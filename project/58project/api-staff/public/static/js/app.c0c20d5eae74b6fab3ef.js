webpackJsonp([1],{"0L8g":function(e,t){},"1VOg":function(e,t){},"22Vt":function(e,t){},"3gHp":function(e,t){},"4raj":function(e,t){},"6i3P":function(e,t){e.exports="data:image/gif;base64,R0lGODlhyADIAPcAAAAAAAAAMwAAZgAAmQAAzAAA/wArAAArMwArZgArmQArzAAr/wBVAABVMwBVZgBVmQBVzABV/wCAAACAMwCAZgCAmQCAzACA/wCqAACqMwCqZgCqmQCqzACq/wDVAADVMwDVZgDVmQDVzADV/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMrADMrMzMrZjMrmTMrzDMr/zNVADNVMzNVZjNVmTNVzDNV/zOAADOAMzOAZjOAmTOAzDOA/zOqADOqMzOqZjOqmTOqzDOq/zPVADPVMzPVZjPVmTPVzDPV/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YrAGYrM2YrZmYrmWYrzGYr/2ZVAGZVM2ZVZmZVmWZVzGZV/2aAAGaAM2aAZmaAmWaAzGaA/2aqAGaqM2aqZmaqmWaqzGaq/2bVAGbVM2bVZmbVmWbVzGbV/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5krAJkrM5krZpkrmZkrzJkr/5lVAJlVM5lVZplVmZlVzJlV/5mAAJmAM5mAZpmAmZmAzJmA/5mqAJmqM5mqZpmqmZmqzJmq/5nVAJnVM5nVZpnVmZnVzJnV/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wrAMwrM8wrZswrmcwrzMwr/8xVAMxVM8xVZsxVmcxVzMxV/8yAAMyAM8yAZsyAmcyAzMyA/8yqAMyqM8yqZsyqmcyqzMyq/8zVAMzVM8zVZszVmczVzMzV/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8rAP8rM/8rZv8rmf8rzP8r//9VAP9VM/9VZv9Vmf9VzP9V//+AAP+AM/+AZv+Amf+AzP+A//+qAP+qM/+qZv+qmf+qzP+q///VAP/VM//VZv/Vmf/VzP/V////AP//M///Zv//mf//zP///wAAAAAAAAAAAAAAACH5BAAAAAAALAAAAADIAMgAAAj+APcJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPKnEmzps2bOHPq3Mmzp8+fQIMKHUq0qNGjSJMqXcq0qdOnUKNKnUq1qtWrWLNq3cq1q9evYMOKHUu2rNmzRwGoXcu2rdu3bx+2lcuW4tyEcPPqhXtzr1+/dNcGVmu3Lt6/iOPaTMzYcMO7jx1HhHywseW+lhkPBrC5sODDmRFjDv23s0PKEFEXJC16seSKqgnGRji7cubVrz0Tdv35Yu19v3H3Zhha+G7fuWMGP5184HLnzW1flh09dfWWz4lXzw78OvXp0If+w/a+krvC39zT3/5+3KL5k6gTG+fMnj5t8gLVi58/Xy9/3u11V1p9/923H2gBnrfda/IRCKB9+bUWXoDo4SdggghCaFB8EkZ4IEwcDjihhhV+KB2GBqLoIYUdXqihTCEC5uCICpq4oYUlsijiii8qx2CLOfY44nvIidcgjQ/2l1eBJwrJI5Hu/biji6PpKCOSKTrpIpTjGQmkhSjFuBeTN9roH3xSXsljlSR+aeaCfKHp5ZRcjiTmmVg2WaNiWRY345NL/jnTnYHmWaaKW8LJGplHrplkfXg6muWeblHqp6GNUvnokIVKqmeGQV7qaaJxGgpjmmMKSqaSb7LW5pz+ampaU52qgtopqXwC2iqips0KZoabRYprpZAqqmWvNNFqqq2l6prrsJRmpCxI08qqHZ1uPrvqRNV6VK1+sWYq7LYSdduRq+Giyqi6ghKK7q8mvSusmOvC+qqV98prLkf6Nmvtv/S2yy6n/bLZL771Iiywvazqa/DBCecb8cTFFuxVkMFmeyxaumkJrma1clwkoh+LC6/IC2HMHHijojyyxziutyxWJruKrHUWR2bjw/6+e3PGNq/M64Pzovuz0PIerVPNiyLdsc9OA8U0aUpf63DUP6mM6cDOEqvzs5mS27KPu0q8ML7jMov2rWL/e2rZFG89paWopj3z2CAaG/f+qGGrna/deAfuktZ8cz1syXWzHbLgbEZcNLYML36o100CjlPABIOt8d4pK5455T1h3rW7mkd+9+Shep6T6Icn3rPhiJdteeNnp/o566zTLbvqg8Oud8VrQz705w2bvbTvcAP/9+ZIk2786siT7Hrw6e6sfPFtv63w6c4X//jwXWMvufbPu127899vTPz145NNfdLsTwqs34RDu+noRsf/qfx98t79/a0L2vr4t7/K+W966lMJ+vI3wAJOTnfaOt/JSLJAAYZvfgRE3QHttS9q/e5ry0teBr1nrNwBMHsSFKEDSbg700FPhZ3j4AdXqLzUufByM4zh+6KFQQP6S3z+pyMfD0EIRBpyr0VFNF/ehFe+vgWRWxuU3g/dZ7vCyXCKTyxXFGGGxZdMzXFb9FYY/caz0m0PfzCU1hj7Z73yME9usUKhFruoxAv6iokVjGMP6wiwHHbwI1PLYxV1WD7OGZJot0qfqAjZNhPCMYG9wyMCnejA+llygmHSmCBnV7shCs6RyXqjHT/pRwQmEYKQzCQTk1g/zikyZnTEjijtd0QY/q+BhPyjGlepPz5e8oo7bB4mRfLFXrayk8bk3SmlBsvq6ZGNUoxgBnUpJ/AF8H2xiyboPMlHnmQTdJTUYAutCcrQNXOQ4VwmLrlJzXid85Wx7KU6KznMkJRzkcX+hCYXsWlKANrQmegsYSkl2UYFGo6FZgzoOPcZwoS2M0o3RCg4ZznPPhLUmqo8ozgBmj5UslOT9SzJLa3WRJmhsWmPDMpIGZlCjkIMmVnrJxFbqtCD3fChgJQpScF4UfillJnAhCTuTHpNqsH0hRjdY9V8aVNlAjWpI8SaEU/qU6R8a4LHvN1Lk3LVgj5QqTXcqlVD2k2w1rKp23QZLUm5UE4+0q1S6ahZqfoxiX5FrlHVajzf6tSp4HWqRa1rWL0Klb9+VZ9wtegzvYjWYM50mrOEJ1RF2tiGCnWgAGVlXw3a2Io2cpLRm+heOYtWz0pOkDx1bCg7K8+5KramljX+rRsJu8es0vN1XhXsHSd7WLaSU6dlzSLjWNJVjcrRigld6nFTUtxCto+vEXXtcjOaytrm8KO4/W1uySrGoA6Vl5DNrlEfu1p+3pSiNJVoYnHaMbvS9J7AhRp5BwXa84L3tg4lKjeFOFiN5hO/okXpTv2JXuhK04fGTebcqOjes1r2m58Vb2Kp22DfPvidB1XwYiNp3gQbOK36jHB+R8vc+noYuYP06GkTiUQG97ek3s2wXrXbmOlW88L27bBzZ3xZlgWXtDj2r4l3TFWgZZbA932tYSucywIzNsY5DjKRi2pk2NLuZRXF55CZzF6MNDfLREXti208W96mlqH/pfKImJ/7ZDOnl34shrKOyQzkXap2o1ZeM4/pXGLWfni/L14yGRGZMxTbNrBxpjGI29zUMwOax4IOMaGv9mfXyne466SiTR1taQZiepRqDbWoR03qUpv61KhOtapXzepWu/rVsI61rGdN61rb+ta4zrWud83rXvv618AOtrCHTexiG/vYyE62skUSEAA7"},"7HXM":function(e,t){},"7VqL":function(e,t){},"9bQu":function(e,t){},AGlE:function(e,t){},Akuv:function(e,t){},BBZI:function(e,t){},DdeS:function(e,t){},EuxK:function(e,t){},Fww2:function(e,t){},IF9M:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTQ3MDE1MDA4OTc0IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE3ODciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyLjAwMzM3NjkyIDIyMy42MjUwNzE5NGMtMzkuMDc4MTE4MjggMC03Ni40MDgyNDg2OCA3LjU0ODEyODUxLTExMi4wMjM0OTc4NiAyMi43OTY2NzI1LTM1LjYxNTI0ODQ2IDE1LjI0ODU0Mzk3LTY2LjI4NDQ4NzMxIDM1Ljg1MzYxMDQ4LTkyLjAzNDE5OTY2IDYxLjUzNzExMDk4LTI1Ljc1NjMzMzY4IDI1LjgyMjU0NDc5LTQ2LjI4MTk0NjQzIDU2LjQ1MjA1NjM4LTYxLjUxMDYyNjQxIDkyLjAyNzU3ODMzLTE1LjI2MTc4NjYyIDM1LjcwNzk0NDg4LTIyLjg4Mjc0NzU3IDcyLjkzMjEzNjk0LTIyLjg4Mjc0NzU3IDExMi4wNzY0NjcwNSAwIDM5LjAxMTkwNjQ1IDcuNjIwOTYxNjggNzYuMzY4NTIyMTcgMjIuODgyNzQ3NTcgMTExLjk0NDA0NDExIDE1LjIyODY4MDcxIDM1LjcxNDU2NjIxIDM1Ljc1NDI5MzQ2IDY2LjM0NDA3NzggNjEuNTEwNjI2NDEgOTIuMTY2NjIyNiAyNS43NDk3MTIzNSAyNS42OTAxMjE4NSA1Ni40MTg5NTA0NyA0Ni4xNDk1MjI3OCA5Mi4wMzQxOTk2NiA2MS41MzA0OTAzOWEyODQuMDM0NzU0MzcgMjg0LjAzNDc1NDM3IDAgMCAwIDExMi4wMjM0OTc4NiAyMi44MDMyOTM4MmMzOS4wNjQ4NzYzNSAwIDc2LjM5NTAwNjc2LTcuNjkzNzk0MTIgMTEyLjAxMDI1NTIyLTIyLjgwMzI5MzgyIDM1LjYxNTI0ODQ2LTE1LjM4MDk2NzYzIDY2LjI4NDQ4NzMxLTM1Ljg0Njk4OTg3IDkyLjAzNDE5OTY1LTYxLjUzMDQ5MDQgMjUuNzU2MzMzNjgtMjUuODIyNTQ0NzkgNDYuMjgxOTQ2NDMtNTYuNDUyMDU2MzggNjEuNTEwNjI2NDItOTIuMTY2NjIyNTggMTUuMjg4MjcxMjItMzUuNTc1NTIxOTUgMjIuODgyNzQ3NTctNzIuOTMyMTM2OTQgMjIuODgyNzQ3NTgtMTExLjk0NDA0NDEyIDAtMzkuMTQ0MzMwMS03LjU5NDQ3NzEtNzYuMzY4NTIyMTctMjIuODgyNzQ3NTgtMTEyLjA3NjQ2NzA0LTE1LjIyODY4MDcxLTM1LjU3NTUyMTk1LTM1Ljc1NDI5MzQ2LTY2LjIxMTY1NDE0LTYxLjUxMDYyNjQyLTkyLjAzNDE5ODk0LTI1Ljc0OTcxMjM1LTI1LjY3Njg3OTE4LTU2LjQxODk1MDQ3LTQ2LjI4MTk0NjQzLTkyLjAzNDE5OTY1LTYxLjUzMDQ5MDM4QzU4OC4zOTgzODM2OCAyMzEuMTc5ODIxNzkgNTUxLjA2MTYzMTk0IDIyMy42MjUwNzE5NCA1MTEuOTk2NzU1NTkgMjIzLjYyNTA3MTk0bTAtODIuNDEzNjQ2MTZjNTAuMjAxNjc2MjkgMCA5OC4yNTgwOTUxNyA5Ljc1Mjk3NjQzIDE0NC4wMjM1OTAzMyAyOS4zOTc5NzQyNyA0NS43OTg2MDEwNyAxOS42MzgzNzY1MiA4NS4yMjc2NDEwNCA0Ni4wMTA0Nzg1IDExOC4yNzM4Nzc5OCA3OS4xMDk2ODQ2MiAzMy4wNzI3MjE1MiAzMi45NjY3ODI0MyA1OS40MTgzMzgxOCA3Mi4zODkyMDE4MSA3OS4wMzAyMzAxMSAxMTguMjYwNjM1MyAxOS42MTg1MTMyNiA0NS43MzkwMTA1OCAyOS40Mzc3MDE1MyA5My44MTUyOTI3MSAyOS40NTA5NDQxOCAxNDMuOTQ0MTM2NTYgMC4wMzk3MjcyNCA1MC4yNzQ1MDg3MS05LjgxOTE4ODI2IDk4LjM1MDc5MDg1LTI5LjQ1MDk0NDE4IDE0NC4wODk4MDIxNi0xOS42MjUxMzQ1OCA0NS44NzE0MzQyMy00NS45NzA3NTEyNiA4NS4yOTM4NTI4OC03OS4wMzAyMzAxMSAxMTguMjU0MDE0LTMzLjAzMjk5NDI2IDMzLjEwNTgyNzQzLTcyLjQzNTU0OTY2IDU5LjQ3NzkyODY4LTExOC4yNzM4Nzc5NyA3OS4xMjI5MjcyNUM2MTAuMTk1MjYwMjcgODcyLjg4OTkzMjE5IDU2Mi4xOTE4MTA1NiA4ODIuNzgxOTUyODkgNTEyLjAwMzM3NjkyIDg4Mi43ODE5NTI4OWMtNTAuMTg4NDMzNjMgMC05OC4xOTE4ODMzMy05Ljg5MjAyMTQzLTE0NC4wMjM1OTAzMS0yOS4zOTc5NzQyNy00NS44NTE1NzAyNS0xOS42MzgzNzY1Mi04NS4yNjczNjgyOC00Ni4wMTA0Nzg1LTExOC4yODcxMjA2My03OS4xMDk2ODQ2QzIxNi42MjY1NjU3OSA3NDEuMzA3NTExNTYgMTkwLjI4NzU3MDQ1IDcwMS44ODUwOTIyIDE3MC42NjI0MzU4NyA2NTYuMDA3MDM3MzYgMTUxLjAzMDY4MDY2IDYxMC4yNzQ2NDgxMyAxNDEuMTcxNzY1MTYgNTYyLjE5ODM2NTk5IDE0MS4yMTE0OTE2OCA1MTEuOTMwNDc3ODdjMC4wMTMyNDI2Ni01MC4xMzU0NjQ0NiA5LjgzMjQzMDkyLTk4LjIxMTc0NjYxIDI5LjQ1MDk0NDE5LTE0My45NDQxMzY1NiAxOS42MTE4OTE5NC00NS44ODQ2NzYxNyA0NS45NTA4ODgtODUuMzAwNDc0MiA3OS4wMzAyMzAxMS0xMTguMjY3MjU2NjQgMzMuMDM5NjE1Ni0zMy4xMDU4Mjc0MyA3Mi40NzUyNzY4OS01OS40NzEzMDgwOSAxMTguMjg3MTIwNjMtNzkuMTE2MzA1OTRDNDEzLjczODY2MDQzIDE1MC45NjQ0MDIyMSA0NjEuNzg4NDU3OTkgMTQxLjIxMTQyNTc4IDUxMS45OTY3NTU1OSAxNDEuMjExNDI1NzgiIHAtaWQ9IjE3ODgiIGZpbGw9IiM0MkFBRkEiPjwvcGF0aD48L3N2Zz4="},J9qP:function(e,t){},KJrc:function(e,t){},LDCI:function(e,t){},La5e:function(e,t){},NHnr:function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),s=a("exGp"),o=a.n(s),c=(a("J9qP"),a("ysvH"),a("7+uW")),l=a("mtWM"),u=a.n(l),m=a("zL8q"),d=a.n(m),p=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var g=a("VU/8")({name:"App"},p,!1,function(e){a("V777")},null,null).exports,f=a("woOf"),h=a.n(f);window.config=h()({namespace:"staff",apiPath:"http://www.magicheart.win/"},window.config);var v=a("fZjL"),y=a.n(v),_=a("Y+LG"),b=a.n(_),M=a("IF9M"),k=a.n(M),w={data:function(){return{circle:b.a,circleActive:k.a}},props:{datalist:{dafault:function(){return[]},type:Array},isClose:{default:!1,type:Boolean},siderWidth:{default:180,type:Number},level:{default:0,type:Number},menuName:{default:function(){return[]},type:Array},liststyle:{type:Object,default:function(){return{}}},selectedHighLight:{type:Array,default:function(){return[]}},icon:{default:b.a,type:String}},watch:{siderWidth:function(e){0==this.level&&(this.$refs.list.style.width=this.siderWidth+"px")}},computed:{fatherlevel:function(){return this.datalist[0].level.split("-")},menulist:function(){return this.datalist},highind:function(){if(Array.isArray(this.menuName)&&this.menuName[this.level])return this.menuName[this.level].index},showWord:function(){return this.isClose&&0==this.level?0:1},selectedLevelHigh:function(){var e=this,t=this.fatherlevel.length;if(this.fatherlevel.reduce(function(r,a,n){return n<t-1?r&&a==e.selectedHighLight[n]:r&&!0},!0))return this.selectedHighLight[this.level+1]}},methods:{shownextmenu:function(e,t){this.$emit("changelist",e,t,this.level)},chosenmenu:function(e,t,r){e.children||(this.$emit("onchosenmenu",r),this.$router.push(r))}}},x={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"list",staticClass:"menubox",style:{height:"calc(100vh - 50px)",background:e.liststyle.color}},[r("ul",{staticStyle:{"padding-top":"15px"}},e._l(e.menulist,function(t,a){return r("li",{key:a,ref:"menuline",refInFor:!0,staticClass:"menuline",style:{position:"relative",background:a==e.liststyle.ind?e.liststyle.hovercolor:void 0},on:{mouseenter:function(r){e.shownextmenu(t.children,a)},click:function(r){e.chosenmenu(t,a,t.router)}}},[r("p",{staticClass:"icon"},[r("img",{staticClass:"icon-position",attrs:{alt:"",src:a==e.liststyle.ind||a==e.selectedLevelHigh?e.circleActive:e.circle}})]),e._v(" "),e.showWord?r("p",{staticClass:"title"},[r("span",{staticClass:"titlestyle",attrs:{title:t.title}},[e._v(e._s(t.title))]),e._v(" "),t.children&&a!=e.liststyle.ind?r("i",{staticClass:"arrow-position",attrs:{type:"ios-arrow-forward",size:"15"}}):e._e()]):e._e()])}),0)])},staticRenderFns:[]};var N=a("VU/8")(w,x,!1,function(e){a("lsvs")},"data-v-2fedb517",null).exports,z={data:function(){return{frontLevelSelectedIndexs:[],colorlist:["#333","#262626","#111","#000"],liststyle:[],selectedIndexArray:[],routerobject:{},indexArr:[0],level:0,path:""}},props:{datalist:{default:[],type:Array},siderWidth:{dafault:180,type:Number},isClose:{default:!1,type:Boolean}},watch:{$route:{handler:function(e,t){this.routerobject[e.path]?console.log(1):console.log(-1)},deep:!0}},computed:{propdatalist:function(){return this.createTree(this.datalist,"0")},menuArr:function(){return this.frontLevelSelectedIndexs.reduce(function(e,t,r){return t.hasNextLevel&&e.push(e[e.length-1][t.index].children),e},[this.propdatalist])},menuName:function(){var e=this;return this.frontLevelSelectedIndexs.reduce(function(t,r,a){return t.push({name:e.menuArr[t.length][r.index].title,index:r.index}),t},[])}},components:{sliderBox:N},methods:{changelistfn:function(e,t,r){this.frontLevelSelectedIndexs=this.frontLevelSelectedIndexs.slice(0,r),this.liststyle=this.liststyle.slice(0,r);var a={};a.ind=t,a.color=this.colorlist[r],a.hovercolor=this.colorlist[r+1],this.liststyle.push(a),Array.isArray(e)&&e.length&&(this.frontLevelSelectedIndexs.push({index:t,hasNextLevel:1}),this.liststyle.push({ind:null,color:this.colorlist[r+1],hovercolor:this.colorlist[r+2]})),0!=r||this.propdatalist[t].children||this.frontLevelSelectedIndexs.push({index:t,hasNextLevel:0})},clearmenu:function(){this.frontLevelSelectedIndexs=[],this.liststyle=[]},chosemenufn:function(e){this.selectedIndexArray=this.routerobject[e],this.frontLevelSelectedIndexs=[],this.liststyle=[]},visitTree:function(e,t){var r=this;if(!Array.isArray(e))throw new Error("expect array structure");e.forEach(function(e,a){e.children?r.visitTree(e.children,t+"-"+a):r.routerobject[e.router]=t+"-"+a})},createTree:function(e,t){var r=this,a=[];return e.forEach(function(e,n){e.level=t+"-"+n,e.children&&(e.children=r.createTree(e.children,t+"-"+n)),a.push(e)}),a}},mounted:function(){var e=this;this._hashchange=function(t){e.routerobject[e.$route.path]&&(e.selectedIndexArray=e.routerobject[e.$route.path])},window.addEventListener("hashchange",this._hashchange),this.visitTree(this.propdatalist,"0"),y()(this.routerobject).forEach(function(t){e.routerobject[t]=e.routerobject[t].split("-")}),this.routerobject[this.$route.path].length&&(this.selectedIndexArray=this.routerobject[this.$route.path])},beforeDestory:function(){window.removeEventListener("hashchange",this._hashchange)}},L={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:{width:e.isClose?180*(e.menuArr.length-1)+40+"px":180*e.menuArr.length+"px",height:"calc(100% - 40px)"},on:{mouseleave:e.clearmenu}},e._l(e.menuArr,function(t,a){return r("slider-box",{key:a,ref:"menubox",refInFor:!0,attrs:{level:a,menuName:e.menuName,datalist:t,isClose:e.isClose,liststyle:e.liststyle[a],siderWidth:e.siderWidth,selectedHighLight:e.selectedIndexArray},on:{changelist:e.changelistfn,onchosenmenu:e.chosemenufn}})}),1)},staticRenderFns:[]};var C=a("VU/8")(z,L,!1,function(e){a("sru3")},"data-v-5d9fca3a",null).exports,T={data:function(){return{showState:{isShow:!1,shownIndex:null},hightlight:0,circle:b.a,circleActive:k.a}},props:{menulist:{type:Array,default:function(){return[]}},level:{type:Number,default:0},colorList:{type:Array,default:function(){return[]}},highLight:{default:function(){return[]},type:Array}},computed:{levelProp:function(){return this.level+1},backColor:function(){return this.colorList[this.level]},hightLightIndex:function(){var e=0;if(this.menulist.length)var t=this.menulist[0].level;if(0==this.level)return Number(this.highLight[this.level]);for(;e<this.level&&this.highLight[e]==t[e];)e++;return e==this.level?Number(this.highLight[this.level]):void 0}},methods:{changeSpreadState:function(e,t){e.hasOwnProperty("children")?this.showState.shownIndex==t?(this.showState.isShow=!1,this.showState.shownIndex=null):(this.showState.isShow=!0,this.showState.shownIndex=t):(this.$router.push(e.router),this.showState.isShow=!1,this.$emit("changeHighState",e.level))},changeHighLight:function(e){this.$emit("changeHighState",e)}}},D={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vertical-slider"},e._l(e.menulist,function(t,a){return t.hasOwnProperty("isShow")?e._e():r("div",{key:a,ref:"",refInFor:!0,staticClass:"vertical-menu-item",style:{background:e.backColor},attrs:{onselectstart:"return false"}},[r("div",{staticClass:"vertical-item-line",on:{click:function(r){e.changeSpreadState(t,a)}}},[r("img",{staticClass:"icon-position",attrs:{alt:"",src:e.hightLightIndex==a?e.circleActive:e.circle}}),e._v(" "),r("div",{staticClass:"vertical-item-title",style:{fontSize:12-2*e.level+"px",textIndent:5*e.level+"px",color:e.hightLightIndex==a?"#42AAFA":""}},[e._v("\r\n                "+e._s(t.title)+"\r\n                    "),t.children?r("i",{staticClass:"vertical-arrow",class:t.children&&e.showState.isShow&&e.showState.shownIndex==a?"el-icon-arrow-down":"el-icon-arrow-right"}):e._e()])]),e._v(" "),r("slider-vertical",{directives:[{name:"show",rawName:"v-show",value:t.children&&e.showState.isShow&&e.showState.shownIndex==a,expression:"item.children && showState.isShow && (showState.shownIndex == index)"}],attrs:{menulist:t.children,colorList:e.colorList,level:e.levelProp,highLight:e.highLight},on:{changeHighState:e.changeHighLight}})],1)}),0)},staticRenderFns:[]};var S=a("VU/8")(T,D,!1,function(e){a("LDCI")},"data-v-f332258c",null).exports,j={data:function(){return{colorlist:["#333","#262626","#111","#000"],highArr:[0,0],routerobject:{}}},props:{datalist:{default:[],type:Array}},computed:{propdatalist:function(){var e=this.createTree(this.datalist,"0");return this.editTree(e),e},level:function(){return 0}},methods:{createTree:function(e,t){var r=this,a=[];return e.forEach(function(e,n){e.level=t+"-"+n,e.children&&(e.children=r.createTree(e.children,t+"-"+n)),a.push(e)}),a},editTree:function(e){var t=this;if(!Array.isArray(e))throw new Error("expect array structure");e.forEach(function(e,r){e.level=e.level.split("-"),e.level=e.level.splice(1,e.level.length),e.children&&t.editTree(e.children)})},visitTree:function(e,t){var r=this,a=this;if(!Array.isArray(e))throw new Error("expect array structure");e.forEach(function(e,n){if(e.children)r.visitTree(e.children,t+"-"+n);else{if(e.contains){var i=e.contains,s=e.router;i.forEach(function(e,t){a.routerobject[e.router]=s})}r.routerobject[e.router]=t+"-"+n}})},changeHighLight:function(e){this.highArr=e}},components:{sliderVertical:S},mounted:function(){var e=this;if(this._hashchange=function(t){if(e.routerobject[e.$route.path]){var r=e.routerobject[e.$route.path];if(Array.isArray(r));else{var a=e.routerobject[r];Array.isArray(a)&&(e.highArr=a)}}},window.addEventListener("hashchange",this._hashchange),this.visitTree(this.propdatalist,"0"),y()(this.routerobject).forEach(function(t){e.routerobject[t].includes("-")&&(e.routerobject[t]=e.routerobject[t].split("-"),e.routerobject[t]=e.routerobject[t].splice(1,e.routerobject[t].length))}),this.routerobject[this.$route.path]){var t=this.routerobject[this.$route.path];if(Array.isArray(t))this.highArr=t;else{var r=this.routerobject[t];Array.isArray(r)&&(this.highArr=r)}}}},A={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vertical-menu-box"},[t("slider-vertical",{attrs:{menulist:this.propdatalist,colorList:this.colorlist,level:this.level,highLight:this.highArr},on:{changeHighState:this.changeHighLight}})],1)},staticRenderFns:[]};var I=a("VU/8")(j,A,!1,function(e){a("3gHp")},"data-v-8088add4",null).exports,F={data:function(){return{showState:{isShow:!1,shownIndex:null},hightlight:0}},props:{menulist:{type:Array,default:function(){return[]}},level:{type:Number,default:0},colorList:{type:Array,default:function(){return[]}},highLight:{default:function(){return[]},type:Array}},computed:{levelProp:function(){return this.level+1},backColor:function(){return this.colorList[this.level]},hightLightIndex:function(){var e=0;if(this.menulist.length)var t=this.menulist[0].level;if(0==this.level)return Number(this.highLight[this.level]);for(;e<this.level&&this.highLight[e]==t[e];)e++;return e==this.level?Number(this.highLight[this.level]):void 0}},methods:{changeSpreadState:function(e,t){e.hasOwnProperty("children")||(this.$router.push(e.router),this.$emit("changeHighState",e.level))},changeHighLight:function(e){this.$emit("changeHighState",e)}}},O={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vertical-slider"},e._l(e.menulist,function(t,a){return r("div",{key:a,ref:"",refInFor:!0,staticClass:"vertical-menu-item",style:{background:e.backColor},attrs:{onselectstart:"return false"}},[r("div",{staticClass:"vertical-item-line",on:{click:function(r){e.changeSpreadState(t,a)}}},[r("i",{ref:"vertical-item-icon"+e.level+a,refInFor:!0,staticClass:"vertical-item-icon",style:{color:e.hightLightIndex==a?"#42AAFA":""},attrs:{type:t.icon?t.icon:"md-radio-button-off",size:18-e.level}}),e._v(" "),r("div",{staticClass:"vertical-item-title",style:{fontSize:12-2*e.level+"px",textIndent:5*e.level+"px",color:e.hightLightIndex==a?"#42AAFA":""}},[e._v("\r\n                "+e._s(t.title)+"\r\n                ")])]),e._v(" "),r("slider-spread",{attrs:{menulist:t.children,colorList:e.colorList,level:e.levelProp,highLight:e.highLight},on:{changeHighState:e.changeHighLight}})],1)}),0)},staticRenderFns:[]};var $=a("VU/8")(F,O,!1,function(e){a("r7rc")},"data-v-4760db89",null).exports,E={data:function(){return{colorlist:["#333","#262626","#111","#000"],highArr:[0,0],routerobject:{}}},props:{datalist:{default:[],type:Array}},computed:{propdatalist:function(){var e=this.createTree(this.datalist,"0");return this.editTree(e),e},level:function(){return 0}},methods:{createTree:function(e,t){var r=this,a=[];return e.forEach(function(e,n){e.level=t+"-"+n,e.children&&(e.children=r.createTree(e.children,t+"-"+n)),a.push(e)}),a},editTree:function(e){var t=this;if(!Array.isArray(e))throw new Error("expect array structure");e.forEach(function(e,r){e.level=e.level.split("-"),e.level=e.level.splice(1,e.level.length),e.children&&t.editTree(e.children)})},visitTree:function(e,t){var r=this;if(!Array.isArray(e))throw new Error("expect array structure");e.forEach(function(e,a){e.children?r.visitTree(e.children,t+"-"+a):r.routerobject[e.router]=t+"-"+a})},changeHighLight:function(e){this.highArr=e}},components:{sliderSpread:$},mounted:function(){var e=this;this._hashchange=function(t){e.routerobject[e.$route.path]&&(e.selectedIndexArray=e.routerobject[e.$route.path])},window.addEventListener("hashchange",this._hashchange),this.visitTree(this.propdatalist,"0"),y()(this.routerobject).forEach(function(t){e.routerobject[t]=e.routerobject[t].split("-"),e.routerobject[t]=e.routerobject[t].splice(1,e.routerobject[t].length)}),this.routerobject[this.$route.path]&&(this.highArr=this.routerobject[this.$route.path])}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vertical-menu-box"},[t("slider-spread",{attrs:{menulist:this.propdatalist,colorList:this.colorlist,level:this.level,highLight:this.highArr},on:{changeHighState:this.changeHighLight}})],1)},staticRenderFns:[]};var Y=a("VU/8")(E,P,!1,function(e){a("1VOg")},"data-v-7c99337f",null).exports,U=a("bM/4"),q=a.n(U),V=a("NYxO"),Q=a("424j");c.default.use(V.a);c.default.use(V.a);var R=a("Dd8w"),B=a.n(R),Z=function(e){var t="./admin/order/getOrderList?pageNumber="+e.pageNumber+"&page="+e.currentPage+"&purpose="+e.purpose;return e.searchSelect.length&&e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),u.a.get(t)},G=function(){return u.a.get("./admin/common/getManagerSelection")},W=function(e){return u.a.post("./admin/order/createOrder",B()({},e))},H=function(e){return u.a.get("./admin/order/getOrder?order_id="+e)},J=function(e){return u.a.post("./admin/order/editOrder",h()({},e))},K=function(e){return u.a.post("./admin/order/createOrderStaff",h()({},e))},X=function(e,t){return u.a.post("./admin/order/deleteOrderStaff",{order_staff_id:e,order_id:t})},ee=function(e){return u.a.post("./admin/order/sign",h()({},e))},te=function(e){return u.a.post("./admin/order/refuse",h()({},e))},re=function(e){return u.a.post("./admin/order/writeOrderLog",h()({},e))},ae=function(e){return u.a.post("./admin/order/cancelOrder",h()({},e))},ne=function(e){return u.a.post("./admin/order/completeOrder",h()({},e))},ie=function(e){return u.a.post("./admin/order/assignOrder",h()({},e))};c.default.use(V.a);var se={state:{order:[],order_staff:[],order_files:[],order_logs:[],order_type:[{label:"请选择",value:0},{label:"待匹配",value:1},{label:"已匹配",value:2},{label:"已签约",value:3},{label:"已取消",value:4},{label:"订单完成",value:5}],order_source:[{label:"请选择",value:0},{label:"线上",value:1},{label:"线下",value:2},{label:"渠道",value:3}]},mutations:{configData:function(e,t){e.order=t.data.order,e.order_staff=t.data.order_staff,e.order_files=t.data.order_files,e.order_logs=t.data.order_logs}},actions:{setData:function(e,t){var r=this;return o()(i.a.mark(function a(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,H(t).then(function(t){e.commit("configData",t)}).catch(function(e){Object(m.Message)({type:"error",message:e.message})});case 2:case"end":return r.stop()}},a,r)}))()}}};c.default.use(V.a);c.default.use(V.a);c.default.use(V.a),window.store=new V.a.Store({modules:{loginModule:{state:{isLogin:!1,token:null,user:{}},mutations:{login:function(e,t){e.isLogin=!0,e.token=t},setUser:function(e,t){e.isLogin&&(e.user=t)},logout:function(e){e.isLogin=!1,e.token=null,e.user={}}}},loadingModule:{state:{isShowHandleError:!1,isLoading:!1},mutations:{setLoading:function(e,t){e.isLoading=t}}},orderModule:se,hrModule:{mutations:{setConfigForm:function(e,t){e.configForm=t}},state:{configForm:{},queryedList:{staff_code:"",sex:"",type:"",create_at:"",register_at:"",authentication:"",name:"",age:"",phone:"",return_msg:"",working_status:"",remarks:"",skill:"",service_type:"",service_crowd:"",working_age:"",working_experience:"",nation:"",birthPlace:"",identify:"",address:"",region:"",education:"",urgent_phone:"",bank_card:"",course:"",paper:"",source:"",manager_name:""},educationList:[{id:1,name:"本科及以上"},{id:2,name:"本科"},{id:3,name:"自考成人大专"},{id:4,name:"专科"},{id:5,name:"中专"},{id:6,name:"职高"},{id:7,name:"高中"},{id:8,name:"初中"},{id:9,name:"小学"}],nation:[{id:"11",name:"满族"},{id:"01",name:"汉族"},{id:"02",name:"蒙古族"},{id:"03",name:"回族"},{id:"38",name:"锡伯族"},{id:"10",name:"朝鲜族"},{id:"08",name:"壮族"},{id:"52",name:"鄂伦春族"},{id:"57",name:"其他"}],allNationList:[{id:"0",name:"请选择"},{id:"11",name:"满族"},{id:"01",name:"汉族"},{id:"02",name:"蒙古族"},{id:"03",name:"回族"},{id:"38",name:"锡伯族"},{id:"10",name:"朝鲜族"},{id:"08",name:"壮族"},{id:"52",name:"鄂伦春族"},{id:"04",name:"藏族"},{id:"05",name:"维吾尔族"},{id:"06",name:"苗族"},{id:"07",name:"彝族"},{id:"09",name:"布依族"},{id:"12",name:"侗族"},{id:"13",name:"瑶族"},{id:"14",name:"白族"},{id:"15",name:"土家族"},{id:"16",name:"哈尼族"},{id:"17",name:"哈萨克族"},{id:"18",name:"傣族"},{id:"19",name:"黎族"},{id:"20",name:"傈僳族"},{id:"21",name:"佤族"},{id:"22",name:"畲族"},{id:"23",name:"高山族"},{id:"24",name:"拉祜族"},{id:"25",name:"水族"},{id:"26",name:"东乡族"},{id:"27",name:"纳西族"},{id:"28",name:"景颇族"},{id:"29",name:"柯尔克孜族"},{id:"30",name:"土族"},{id:"31",name:"达斡尔族"},{id:"32",name:"仫佬族"},{id:"33",name:"羌族"},{id:"34",name:"布朗族"},{id:"35",name:"撒拉族"},{id:"36",name:"毛难族"},{id:"37",name:"仡佬族"},{id:"39",name:"阿昌族"},{id:"40",name:"普米族"},{id:"41",name:"塔吉克族"},{id:"42",name:"怒族"},{id:"43",name:"乌孜别克族"},{id:"44",name:"俄罗斯族"},{id:"45",name:"鄂温克族"},{id:"46",name:"崩龙族"},{id:"47",name:"保安族"},{id:"48",name:"裕固族"},{id:"49",name:"京族"},{id:"50",name:"塔塔尔族"},{id:"51",name:"独龙族"},,{id:"53",name:"赫哲族"},{id:"54",name:"门巴族"},{id:"55",name:"珞巴族"},{id:"56",name:"基诺族"}]}},shopModule:{state:{},mutations:{}}},plugins:[Object(Q.a)({key:"staff",storage:window.sessionStorage,reducer:function(e){return{loginModule:e.loginModule}}})]});var oe=store,ce=function(e,t){return u.a.post("./admin/login",{account:e,password:t})},le=function(e){return u.a.post("./admin/changeToken",{refreshToken:e})},ue=[{title:"我的",router:"/homePage"},{router:"/",title:"权限管理",children:[{title:"账户列表",router:"/auth/accountList",contains:[{title:"账户编辑",router:"/auth/accountEdit"},{title:"角色配置",router:"/auth/accountConfig"}]},{title:"账户配置",router:"/auth/accountConfig",isShow:!1},{title:"角色列表",router:"/auth/roleList",contains:[{title:"角色权限配置",router:"/auth/roleConfig"},{title:"角色编辑",router:"/auth/roleEdit"}]},{title:"权限配置",router:"/auth/authList",contains:[{title:"权限信息配置",router:"/auth/authConfig"}]}]},{router:"/",title:"人力资源管理",children:[{title:"服务人员列表",router:"/staff/staffList"},{title:"服务类型列表",router:"/serviceType/typeList"}]},{router:"/",title:"销售管理",children:[{title:"订单列表",router:"/sale/orderList"}]}],me={getToken:function(e,t){var r=this;return o()(i.a.mark(function a(){var n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ce(e,t).then(function(e){var t=e.data.manager,a=e.data.tree,n=r.getRouterLeaf(a,"");return oe.commit("login",{access_token:t.access_token,refresh_token:t.refresh_token}),oe.commit("setUser",{menu:ue,routerNavigator:n,username:t.name,id:t.id,account:t.account,expire:t.expire,tree:a}),e}).catch(function(e){throw e});case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}},a,r)}))()},getRouterLeaf:function(e,t){var r={};return function e(t,a){if(!Array.isArray(t))throw new Error("expect array structure");t.forEach(function(t,n){if(t.children)e(t.children,(""==a?"":a+"-")+t.title);else{if(t.contains){var i=t.contains;t.router,i.forEach(function(e,t){r[e.router]=(""==a?"":a+"-")+e.title})}r[t.router]=(""==a?"":a+"-")+t.title}})}(e,t),y()(r).forEach(function(e){r[e]=r[e].split("-")}),r},refreshToken:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(e).then(function(e){var t=e.data;oe.commit("login",{access_token:t.access_token,refresh_token:t.refresh_token})}).catch(function(e){});case 2:case"end":return t.stop()}},r,t)}))()},logout:function(){oe.commit("logout")}},de={data:function(){return{headerHeight:50,siderWidth:180,isClose:!1,breadcrumb:[],minePic:q.a}},props:{menuNav:{type:Array,required:!0},closeAble:{type:Boolean,default:!0},menuState:{type:Number,default:1}},computed:{isLoaded:function(){return store.state.loadingModule.isLoading}},watch:{$route:{handler:function(e,t){store.state.loginModule.user.routerNavigator[e.path]?this.breadcrumb=store.state.loginModule.user.routerNavigator[e.path]:console.log(-1)},deep:!0}},methods:{changesider:function(){this.isClose?(this.siderWidth=180,this.isClose=!1):(this.siderWidth=40,this.isClose=!0)},handleCommand:function(e){"1"==e?(me.logout(),this.$router.push("/login")):"2"==e&&this.$router.push("/homePage")}},components:{menuBox:C,menuVertical:I,menuSpread:Y},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.breadcrumb=store.state.loginModule.user.routerNavigator[e.$route.path];case 1:case"end":return t.stop()}},t,e)}))()}},pe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layoutbox"},[r("div",{},[r("div",{ref:"header",staticClass:"header"},[r("div",{staticClass:"logo"},[e._v("\n                365后台管理系统\n            ")]),e._v(" "),r("div",{staticClass:"header-right"},[r("div",{staticClass:"breadcrumb-box"},[r("el-breadcrumb",{staticClass:"breadcrumb"},e._l(e.breadcrumb,function(t,a){return r("el-breadcrumb-item",{key:a},[e._v(e._s(t))])}),1)],1),e._v(" "),r("div",{staticClass:"user"},[r("img",{attrs:{src:e.minePic,alt:""}}),e._v(" "),r("el-dropdown",{on:{command:e.handleCommand}},[r("span",{staticClass:"el-dropdown-link"},[e._v("\n                            "+e._s("您好！"+e.$store.state.loginModule.user.username)),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"1"}},[e._v("注销")])],1)],1)],1)])]),e._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"sider",style:{height:"calc(100vh - "+e.headerHeight+"px)",width:e.siderWidth+"px",position:"relative"}},[1==e.menuState?r("menu-box",{style:{position:"absolute",zIndex:"4"},attrs:{datalist:e.menuNav,isClose:e.isClose,siderWidth:e.siderWidth}}):2==e.menuState?r("menu-vertical",{attrs:{datalist:e.menuNav}}):r("menu-spread",{attrs:{datalist:e.menuNav}}),e._v(" "),1==e.menuState?r("div",{staticClass:"menucontrol",style:{width:e.siderWidth+"px"}},[e.closeAble?r("div",{staticClass:"icon-place"},[r("i",{staticClass:"el-icon-menu icon-position",attrs:{type:"md-menu",size:"18"},on:{click:e.changesider}})]):e._e()]):e._e()],1),e._v(" "),r("div",{ref:"content",staticClass:"contentshow",style:{height:"calc(100vh - "+e.headerHeight+"px)",width:"calc(100% - "+e.siderWidth+"px"}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoaded,expression:"isLoaded"}],staticClass:"router-contains"},[r("router-view")],1)])])])])},staticRenderFns:[]};var ge=a("VU/8")(de,pe,!1,function(e){a("hSok")},"data-v-7a65b0ce",null).exports;c.default.component("sliderSpread",$),c.default.component("sliderVertical",S);var fe=a("Gu7T"),he=a.n(fe),ve=a("/ocq"),ye={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"home"},[this._v("\n    coming soon...\n")])},staticRenderFns:[]};var _e=a("VU/8")({data:function(){return{}},methods:{},components:{}},ye,!1,function(e){a("rTPo")},"data-v-374be710",null).exports,be={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"dashboard"},[this._v("\n    仪表盘\n")])},staticRenderFns:[]};var Me=a("VU/8")({data:function(){return{}}},be,!1,function(e){a("7HXM")},"data-v-1c4bd439",null).exports,ke={data:function(){return{accountTable:[],accountSearch:{name:""},pagination:{total:0,currentPage:1,pageNumber:10}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.accountSearch).forEach(function(r,a){if(""!=t.accountSearch[r]){var n={};n[r]=t.accountSearch[r],n=B()({},n,{key:r}),e.push(n)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,Ea.getManagerList(r).then(function(t){"0"==t.code&&(e.accountTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchAccount:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetAccount:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.accountSearch.name="",t.next=3,e.getTableList();case 3:case"end":return t.stop()}},t,e)}))()},createAccount:function(){this.$router.push({path:"/auth/accountEdit",query:{type:0}})},editAccount:function(e,t){this.$router.push({path:"/auth/accountEdit",query:{type:1,id:t.id}})},deleteAccount:function(e,t){var r=this;return o()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r,e.next=3,r.$confirm("确定删除该账户吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(){r.$message({type:"info",message:"已取消删除"})});case 3:if("confirm"!=e.sent){e.next=17;break}return store.commit("setLoading",1),e.prev=6,e.next=9,Ea.deleteManager(t.id).then(function(e){"0"==e.code&&r.$message({type:"success",message:"删除成功"})}).catch(function(e){r.$message({type:"error",message:e.message})});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),e.t0;case 14:return e.next=16,a.getTableList();case 16:store.commit("setLoading",!1);case 17:case"end":return e.stop()}},e,r,[[6,11]])}))()}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},we={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"account"},[r("div",{staticClass:"container-box"},[r("el-form",{staticClass:"account-form",attrs:{inline:!0,model:e.accountSearch}},[r("div",{staticClass:"search"},[r("el-form-item",[r("el-input",{staticClass:"input",attrs:{placeholder:"请输入管理员名",maxlength:20},model:{value:e.accountSearch.name,callback:function(t){e.$set(e.accountSearch,"name",t)},expression:"accountSearch.name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchAccount}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetAccount}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createAccount}},[e._v("添加账户")])],1)],1),e._v(" "),r("el-table",{staticClass:"account-table",attrs:{data:e.accountTable}},[r("el-table-column",{attrs:{label:"编号",prop:"id",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"账号",prop:"account",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"管理员名",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editAccount(t.$index,t.row)}}},[e._v("账户编辑")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.deleteAccount(t.$index,t.row)}}},[e._v("停用")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)])},staticRenderFns:[]};var xe=a("VU/8")(ke,we,!1,function(e){a("y13q")},"data-v-e984d060",null).exports,Ne={props:{value:{default:function(){return[]},type:[Number,Array]},setProps:{default:function(){return{label:"name",value:"id"}},type:Object},requestUrl:{default:"",type:String},cascaderName:{type:String,default:""},modelType:{default:"Array",type:String}},watch:{value:function(e){0==e.length?this.cascaderData=[]:0==e&&(this.cascaderData=[])}},data:function(){return{optionList:[],cascaderData:[],loading:!1}},methods:{changeCascader:function(e,t){var r=e.length,a=[];r&&a.push(e[r-1]),"int"==this.modelType&&(a=a[0]),this.$emit("input",a)},getList:function(e){var t=this;return o()(i.a.mark(function r(){var a,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.requestUrl,n=t,!e){r.next=6;break}return n.optionList=[],n.loading=!0,r.next=6,u.a.get(a).then(function(e){n.optionList=e.data}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(function(){n.loading=!1});case 6:case"end":return r.stop()}},r,t)}))()}},mounted:function(){}},ze={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cascader",attrs:{options:e.optionList,props:e.setProps,clearable:"",size:"","show-all-levels":!1,placeholder:e.cascaderName},on:{"visible-change":e.getList,change:e.changeCascader},model:{value:e.cascaderData,callback:function(t){e.cascaderData=t},expression:"cascaderData"}})},staticRenderFns:[]},Le=a("VU/8")(Ne,ze,!1,null,null,null).exports,Ce={props:{openPictureDetailDialog:{type:Boolean,default:!1},title:{type:String,default:""},imageUrl:{type:String,default:""}},data:function(){return{}},methods:{closeDialog:function(){this.$emit("closePictureDetailDialog")}}},Te={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.openPictureDetailDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.openPictureDetailDialog=t}}},[r("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:e.imageUrl,alt:""}}),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("关 闭")])],1)])},staticRenderFns:[]};var De=a("VU/8")(Ce,Te,!1,function(e){a("sqbB")},"data-v-3195bbe8",null).exports,Se={props:{openTagDialog:{type:Boolean,default:!1},tagDialogTitle:{type:String,default:"标签配置"},configForm:{type:Object,default:function(){return{}}}},watch:{},data:function(){return{tagConfigForm:{id:this.configForm.id?this.configForm.id:"",table:this.configForm.table,type:"enable"==this.configForm.type,name:this.configForm.name?this.configForm.name:"",version:this.configForm.version?this.configForm.version:""},tagConfigRules:{name:[{required:!0,message:"请输入标签名",trigger:"blur"}]}}},methods:{commitLog:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.$refs[e].validate(function(){var e=o()(i.a.mark(function e(r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return store.commit("setLoading",!0),t.tagConfigForm.type?t.tagConfigForm.type="enable":t.tagConfigForm.type="disable",e.next=5,ar.editFormConfig(t.tagConfigForm).then(function(e){"0"==e.code&&(t.$message({type:"success",message:e.message}),t.$emit("closeTagDialog"))}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(function(){store.commit("setLoading",!1)});case 5:e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return r.stop()}},r,t)}))()},closeTagDialog:function(){this.$emit("closeTagDialog")}}},je={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.tagDialogTitle,visible:e.openTagDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.openTagDialog=t}}},[r("el-form",{ref:"tagConfigForm",attrs:{model:e.tagConfigForm,"label-width":"120px",rules:e.tagConfigRules}},[r("el-form-item",{attrs:{label:"标签名"}},[r("el-input",{model:{value:e.tagConfigForm.name,callback:function(t){e.$set(e.tagConfigForm,"name",t)},expression:"tagConfigForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.tagConfigForm.type,callback:function(t){e.$set(e.tagConfigForm,"type",t)},expression:"tagConfigForm.type"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeTagDialog}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.commitLog("tagConfigForm")}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var Ae={components:{configTagDialog:a("VU/8")(Se,je,!1,function(e){a("TPhW")},"data-v-43b7441a",null).exports},props:{value:{default:function(){return[]},type:Array},setLabel:{default:function(){return{mainKey:"id",label:"name"}},type:Object},tableConfig:{default:"",type:String}},data:function(){return{tagDialogVisible:!1,configForm:{}}},methods:{changeTag:function(e){var t={table:this.tableConfig};e&&(t=B()({},t,e)),this.configForm=t,this.tagDialogVisible=!0},reloadPage:function(){this.tagDialogVisible=!1,this.$emit("reload")}},mounted:function(){}},Ie={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tag-box"},[e._l(e.value,function(t,a){return r("span",{key:a,staticClass:"tag-element",class:["enable"==t.type?"tag-color"+(a%5+1):""],on:{click:function(r){e.changeTag(t)}}},[e._v(e._s(t[e.setLabel.label]))])}),e._v(" "),r("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.changeTag}}),e._v(" "),e.tagDialogVisible?r("config-tag-dialog",{attrs:{openTagDialog:e.tagDialogVisible,configForm:e.configForm},on:{closeTagDialog:e.reloadPage}}):e._e()],2)},staticRenderFns:[]};var Fe=a("VU/8")(Ae,Ie,!1,function(e){a("S5uw")},"data-v-5ff1f0db",null).exports,Oe={props:{value:{default:function(){return 0|[]},type:[Array,Number,String]},propTagList:{default:function(){return[]},type:Array},isSingle:{type:Boolean,default:!0},setLabel:{default:function(){return{mainKey:"id",label:"name"}},type:Object}},data:function(){return{showTagList:[]}},computed:{valueData:function(){return"number"==typeof this.value?[this.value]:"string"==typeof this.value?[Number(this.value)]:this.value}},watch:{value:{handler:function(e,t){e!=t&&this.changeValue(e)},immediate:!0,deep:!0},propTagList:function(e){e.length&&this.changeValue(e)}},methods:{changeStatus:function(e){var t=this;if(this.isSingle)this.$emit("input",e[this.setLabel.mainKey]);else{var r=this.showTagList.reduce(function(r,a,n){return a.id==e.id&&(a.isSelected=!a.isSelected),a.isSelected?r.concat(a[t.setLabel.mainKey]):r},[]);this.$emit("input",r)}},changeValue:function(e){var t=this;this.showTagList=this.propTagList.map(function(e,r){return t.valueData.some(function(t,r){return t==e.id})?e.isSelected=!0:e.isSelected=!1,e})}},mounted:function(){this.changeValue(this.value)}},$e={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tag-box"},e._l(e.showTagList,function(t,a){return r("span",{key:a,staticClass:"tag-element",class:[t.isSelected?"tag-color"+(a%5+1):""],on:{click:function(r){e.changeStatus(t)}}},[e._v(e._s(t[e.setLabel.label]))])}),0)},staticRenderFns:[]};var Ee=a("VU/8")(Oe,$e,!1,function(e){a("ZCkn")},"data-v-0eabcdf1",null).exports,Pe={model:{prop:"tagList",event:"input"},props:{setProps:{default:function(){return{label:"name",value:"id"}},type:Object},optionList:{default:function(){return[]},type:Array},tagList:{default:function(){return[]},type:Array},tagName:{default:"",type:String},idkey:{default:"",type:String}},watch:{tagList:function(e){Array.isArray(e)&&(this.showList=e)}},data:function(){return{selectedCascader:[],showList:this.tagList?this.tagList:[]}},methods:{addTag:function(){var e=this,t={};if(0!=this.selectedCascader.length){if(this.showList.some(function(t,r){var a=e.selectedCascader.length;return t[e.idkey]==e.selectedCascader[a-1]}))return this.$message({type:"error",message:"当前"+e.tagName+"已存在，请重新选择"}),void(this.selectedCascader=[]);var r=this.selectedCascader[this.selectedCascader.length-1];!function e(r,a){for(var n=0;n<r.length;n++)r[n].children?e(r[n].children,a):r[n].id==a&&(t=r[n])}(e.optionList,r,e.showList);var a={name:t.name};a[this.idkey]=t.id,this.$emit("input",[].concat(he()(this.showList),[a])),this.showList=[].concat(he()(this.showList),[a]),this.selectedCascader=[]}else this.$message({type:"error",message:"请先选择"+e.tagName})},deleteTag:function(e){var t=this;this.showList.forEach(function(r,a){r[t.idkey]==e[t.idkey]&&t.showList.splice(a,1)}),this.$emit("input",this.showList)}}},Ye={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tag"},[r("div",{staticClass:"tag-add",style:{marginBottom:e.showList.length?"20px":""}},[r("el-cascader",{attrs:{clearable:"",options:e.optionList,props:e.setProps,placeholder:"请选择技能"},model:{value:e.selectedCascader,callback:function(t){e.selectedCascader=t},expression:"selectedCascader"}}),e._v(" "),r("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:e.addTag}})],1),e._v(" "),e.showList.length?r("div",{staticClass:"tag-box"},e._l(e.showList,function(t,a){return r("el-tag",{key:a,style:{marginRight:(a+1)%5==0?"0":"10px"},attrs:{closable:""},on:{close:function(r){e.deleteTag(t)}}},[e._v(e._s(t.name))])}),1):e._e()])},staticRenderFns:[]};a("VU/8")(Pe,Ye,!1,function(e){a("Fww2")},"data-v-41731fdc",null).exports;var Ue={data:function(){return{showList:[]}},props:{propList:{type:Array,default:function(){return[]}},tableOriginData:{default:function(){return 0|[]},type:[Number,Array,String]}},mounted:function(){var e=this;("number"==typeof this.tableOriginData?[this.tableOriginData]:"string"==typeof this.tableOriginData?[Number(this.tableOriginData)]:this.tableOriginData).forEach(function(t,r){var a=e.propList.filter(function(e){return e.id==t});a.length&&e.showList.push(a[0])})}},qe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showList.length?r("div",e._l(e.showList,function(t,a){return r("div",{key:a,staticClass:"tag-item-style"},[e._v("\n        "+e._s(t.name)+"\n    ")])}),0):e._e()},staticRenderFns:[]};var Ve=a("VU/8")(Ue,qe,!1,function(e){a("w5if")},"data-v-5903835f",null).exports,Qe={data:function(){var e=this;return{accountForm:{id:this.$route.query.id?this.$route.query.id:"",account:"",username:"",clear_password:"",password:"",repassword:"",roleIds:[]},accountRules:{account:[{validator:function(e,t,r){""===t?r(new Error("请输入账号名")):r()},trigger:"blur"}],username:[{validator:function(e,t,r){""===t?r(new Error("请输入用户名")):r()},trigger:"blur"}],password:[{validator:function(t,r,a){""===r?a(new Error("请输入密码")):(""!==e.accountForm.repassword&&e.$refs.form.validateField("repassword"),a())},trigger:"blur"}],repassword:[{validator:function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.accountForm.password?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]},roleList:[],isSetPassword:!1}},components:{selectTagComponent:Ee},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){var a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={id:t.$route.query.id,account:t.accountForm.account,name:t.accountForm.username,password:t.accountForm.password,repassword:t.accountForm.repassword,roleIds:t.accountForm.roleIds},r.next=3,t.$refs[e].validate(function(e){if(!e)return!1;Ea.editManager(a).then(function(e){"0"==e.code&&(t.$message({type:"success",message:e.message}),t.$router.push("/auth/accountList"))}).catch(function(e){t.$message({type:"error",message:e.message})})});case 3:case"end":return r.stop()}},r,t)}))()}},mounted:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.prev=1,r=e.$route.query.id?e.$route.query.id:"",t.next=5,Ea.getManager(r).then(function(t){console.log(t),"0"==t.code&&(e.roleList=t.data.roleList,e.accountForm.roleIds=t.data.manager.roleIds,e.accountForm.username=t.data.manager.name,e.accountForm.account=t.data.manager.account,e.accountForm.clear_password=t.data.manager.clear_password)}).catch(function(t){"1"==t.code&&(e.$message({type:"error",message:t.message}),e.$router.push("/auth/accountList"))}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[1,7]])}))()}},Re={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"account-edit"},[r("el-form",{ref:"form",staticClass:"form-style",attrs:{rules:e.accountRules,model:e.accountForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"账号",prop:"account"}},[r("el-input",{attrs:{maxlength:20,disabled:1==e.$route.query.type},model:{value:e.accountForm.account,callback:function(t){e.$set(e.accountForm,"account",t)},expression:"accountForm.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{autocomplete:"off",maxlength:20},model:{value:e.accountForm.username,callback:function(t){e.$set(e.accountForm,"username",t)},expression:"accountForm.username"}})],1),e._v(" "),1==this.$route.query.type?r("el-form-item",{attrs:{label:"明文密码",prop:"clear_password"}},[r("el-input",{attrs:{maxlength:50,autocomplete:"new-password",disabled:!0,type:"text"},model:{value:e.accountForm.clear_password,callback:function(t){e.$set(e.accountForm,"clear_password",t)},expression:"accountForm.clear_password"}}),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(t){e.isSetPassword=!e.isSetPassword}}},[e._v(e._s(e.isSetPassword?"收起":"密码重置"))])],1):e._e(),e._v(" "),1==e.isSetPassword||0==this.$route.query.type?r("div",[r("el-form-item",{attrs:{label:1==e.$route.query.type?"重置密码":"密码",prop:"password"}},[r("el-input",{attrs:{maxlength:50,autocomplete:"new-password",type:"password"},model:{value:e.accountForm.password,callback:function(t){e.$set(e.accountForm,"password",t)},expression:"accountForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[r("el-input",{attrs:{maxlength:50,type:"password"},nativeOn:{focus:function(e){this.type="password"}},model:{value:e.accountForm.repassword,callback:function(t){e.$set(e.accountForm,"repassword",t)},expression:"accountForm.repassword"}})],1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"角色配置",prop:"roleIds"}},[r("select-tag-component",{attrs:{propTagList:e.roleList,isSingle:!1},model:{value:e.accountForm.roleIds,callback:function(t){e.$set(e.accountForm,"roleIds",t)},expression:"accountForm.roleIds"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Be=a("VU/8")(Qe,Re,!1,function(e){a("fa/y")},"data-v-6b75008e",null).exports,Ze={data:function(){return{roleTable:[],roleSearch:{name:""},pagination:{total:0,currentPage:1,pageNumber:10}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.roleSearch).forEach(function(r,a){if(""!=t.roleSearch[r]){var n={};n[r]=t.roleSearch[r],n=B()({},n,{key:r}),e.push(n)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,Ea.getRoleList(r).then(function(t){"0"==t.code&&(e.roleTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchRole:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetRole:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.roleSearch.name="",t.next=3,e.getTableList();case 3:case"end":return t.stop()}},t,e)}))()},editAuth:function(e,t){this.$router.push({path:"/auth/roleConfig",query:{id:t.id}})},createRole:function(){this.$router.push({path:"/auth/roleEdit",query:{type:0}})},editRole:function(e,t){this.$router.push({path:"/auth/roleEdit",query:{type:1,id:t.id}})},deleteRole:function(e,t){var r=this;this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return store.commit("setLoading",1),e.next=3,Ea.deleteRole(t.id).then(function(e){"0"==e.code&&r.$message({type:"success",message:"删除成功!"})}).catch(function(e){r.$message({type:"success",message:e.message})});case 3:return e.next=5,r.getTableList();case 5:store.commit("setLoading",!1);case 6:case"end":return e.stop()}},e,r)}))).catch(function(){r.$message({type:"info",message:"已取消删除"})})}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},Ge={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"role"},[r("el-form",{staticClass:"role-form",attrs:{inline:!0,model:e.roleSearch}},[r("div",{staticClass:"search"},[r("el-form-item",[r("el-input",{staticClass:"input",attrs:{placeholder:"请输入角色名",maxlength:20},model:{value:e.roleSearch.name,callback:function(t){e.$set(e.roleSearch,"name",t)},expression:"roleSearch.name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchRole}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetRole}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createRole}},[e._v("添加角色")])],1)],1),e._v(" "),r("el-table",{staticClass:"role-table",attrs:{data:e.roleTable}},[r("el-table-column",{attrs:{label:"编号",prop:"id",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"名称",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editAuth(t.$index,t.row)}}},[e._v("权限配置")]),e._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editRole(t.$index,t.row)}}},[e._v("角色编辑")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.deleteRole(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)},staticRenderFns:[]};var We=a("VU/8")(Ze,Ge,!1,function(e){a("OY3S")},"data-v-f3e0ae7a",null).exports,He={data:function(){return{roleForm:{name:""},roleRules:{name:[{validator:function(e,t,r){""===t?r(new Error("请输入角色名")):r()},trigger:"blur"}]}}},computed:{roleId:function(){return this.$route.query.id?this.$route.query.id:""}},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$refs[e].validate(function(e){if(!e)return!1;Ea.editRole(t.roleForm.name,t.roleId).then(function(e){"0"==e.code&&(t.$message({type:"success",message:e.message}),t.$router.push("/auth/roleList"))}).catch(function(e){t.$message({type:"error",message:e.message})})});case 2:case"end":return r.stop()}},r,t)}))()}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e,store.commit("setLoading",!0),t.prev=2,1!=e.$route.query.type){t.next=6;break}return t.next=6,Ea.getRole(e.roleId).then(function(t){e.roleForm.name=t.data.name}).catch(function(e){});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:store.commit("setLoading",!1);case 11:case"end":return t.stop()}},t,e,[[2,8]])}))()}},Je={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"role-edit"},[r("el-form",{ref:"form",staticClass:"roleForm",attrs:{model:e.roleForm,"label-width":"120px",rules:e.roleRules}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{attrs:{maxlength:20},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Ke=a("VU/8")(He,Je,!1,function(e){a("cD/+")},"data-v-73fffd58",null).exports,Xe={data:function(){return{rolePermissionIds:[],permissionList:[],roleConfigList:[],defaultProps:{children:"children",label:"title"}}},methods:{onSubmit:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[].concat(he()(e.$refs.tree.getCheckedKeys()),he()(e.$refs.tree.getHalfCheckedKeys())),t.next=3,Ea.editRolePermission(e.$route.query.id,r).then(function(t){"0"==t.code&&(e.$message({type:"success",message:t.message}),e.$router.push("/auth/roleList"))}).catch(function(t){e.$message({type:"error",message:data.message})});case 3:case"end":return t.stop()}},t,e)}))()},goback:function(){this.$router.push("/auth/roleList")},getSelectedIds:function(e){var t=[];return function e(r){r.forEach(function(r,a){r.children?e(r.children):r.is_on&&t.push(r.id)})}(e),t}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e,store.commit("setLoading",!0),t.prev=2,t.next=5,Ea.getRolePermission(e.$route.query.id).then(function(t){e.permissionList=t.data.permissionList,e.rolePermissionIds=e.getSelectedIds(t.data.permissionList)}).catch(function(e){});case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:store.commit("setLoading",!1);case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()}},et={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"roleConfig"},[r("div",{staticClass:"tree-container"},[r("el-tree",{ref:"tree",attrs:{data:e.permissionList,"show-checkbox":"","node-key":"id","default-checked-keys":e.rolePermissionIds,props:e.defaultProps}})],1),e._v(" "),r("div",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")]),e._v(" "),r("el-button",{on:{click:e.goback}},[e._v("取消")])],1)])},staticRenderFns:[]};var tt=a("VU/8")(Xe,et,!1,function(e){a("fgDz")},"data-v-4a51f2e8",null).exports,rt=a("//Fk"),at=a.n(rt),nt={data:function(){return{authTable:[],authSearch:{title:""},pagination:{total:0,currentPage:1,pageNumber:10},treelist:[],defaultProps:{children:"children",label:"title"}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.authSearch).forEach(function(r,a){if(""!=t.authSearch[r]){var n={};n[r]=t.authSearch[r],n=B()({},n,{key:r}),e.push(n)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,at.a.all([Ea.getPermissionList(r),Ea.getPermissionTree()]).then(function(t){"0"==t[0].code&&(e.authTable=t[0].data.data,e.pagination.currentPage=t[0].data.current_page,e.pagination.total=t[0].data.total),"0"==t[1].code&&(e.treelist=t[1].data)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchAuth:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetAuth:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.authSearch.title="",t.next=3,e.getTableList();case 3:case"end":return t.stop()}},t,e)}))()},createAuth:function(){this.$router.push({path:"/auth/authConfig",query:{type:0}})},editAuth:function(e){this.$router.push({path:"/auth/authConfig",query:{id:e.id,type:1}})},deleteAuth:function(e){var t=this;return o()(i.a.mark(function r(){var a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t,r.next=3,t.$confirm("确定删除该权限吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(){t.$message({type:"info",message:"已取消删除"})});case 3:if("confirm"!=r.sent){r.next=17;break}return store.commit("setLoading",1),r.prev=6,r.next=9,Ea.deletePermission(e.id).then(function(e){"0"==e.code&&t.$message({type:"success",message:"删除成功"})}).catch(function(e){t.$message({type:"error",message:e.message})});case 9:r.next=14;break;case 11:throw r.prev=11,r.t0=r.catch(6),r.t0;case 14:return r.next=16,a.getTableList();case 16:store.commit("setLoading",!1);case 17:case"end":return r.stop()}},r,t,[[6,11]])}))()},formatterDisplay:function(e,t){return 1==e.is_display?"展示":2==e.is_display?"不展示":void 0}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},it={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"auth"},[r("div",{staticClass:"auth-table-box"},[r("el-form",{staticClass:"auth-form",attrs:{inline:!0,model:e.authSearch}},[r("div",{staticClass:"search"},[r("el-form-item",[r("el-input",{staticClass:"input",attrs:{placeholder:"请输入权限名",maxlength:20},model:{value:e.authSearch.title,callback:function(t){e.$set(e.authSearch,"title",t)},expression:"authSearch.title"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchAuth}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetAuth}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createAuth}},[e._v("添加权限")])],1)],1),e._v(" "),r("el-table",{staticClass:"authTable-table",attrs:{data:e.authTable}},[r("el-table-column",{attrs:{label:"编号",prop:"id",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"菜单展示",prop:"is_display",align:"center",formatter:e.formatterDisplay}}),e._v(" "),r("el-table-column",{attrs:{label:"权限名",prop:"title",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"请求路由",prop:"router",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editAuth(t.row)}}},[e._v("权限配置")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){e.deleteAuth(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1),e._v(" "),r("div",{staticClass:"auth-tree-box"},[r("div",{staticClass:"title"},[e._v("索引")]),e._v(" "),r("el-tree",{attrs:{data:e.treelist,accordion:"",props:e.defaultProps}})],1)])},staticRenderFns:[]};var st=a("VU/8")(nt,it,!1,function(e){a("mrCW")},"data-v-53bb6fd2",null).exports,ot={data:function(){return{authForm:{id:0,router:"",title:"",description:"",sort_order:0,parent_id:0,is_display:!1},authRules:{router:[{validator:function(e,t,r){""===t?r(new Error("请输入路由地址")):r()},trigger:"blur"}],title:[{validator:function(e,t,r){""===t?r(new Error("请输入权限名")):r()},trigger:"blur"}],description:[{validator:function(e,t,r){""===t?r(new Error("请输入权限描述")):r()},trigger:"blur"}]},selectionList:[]}},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){var a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.authForm.is_display,t.authForm.is_display=a?1:2,r.next=4,t.$refs[e].validate(function(e){if(!e)return!1;Ea.editPermission(t.authForm).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"修改成功"}),t.$router.push("/auth/authList"))}).catch(function(e){t.$message({type:"error",message:e.message})})});case 4:case"end":return r.stop()}},r,t)}))()},goback:function(){this.$router.push("/auth/authList")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.prev=1,t.next=4,Ea.getPermission(e.$route.query.id).then(function(t){"add"==t.data.method||(e.authForm=t.data.permission,1==t.data.permission.is_display?e.authForm.is_display=!0:e.authForm.is_display=!1),e.selectionList=t.data.selection}).catch(function(t){e.$message({type:"error",mexternal:mexternal})});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 9:store.commit("setLoading",!1);case 10:case"end":return t.stop()}},t,e,[[1,6]])}))()}},ct={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"auth-config"},[r("el-form",{ref:"form",staticClass:"auth-form",attrs:{model:e.authForm,"label-width":"120px",rules:e.authRules}},[r("el-form-item",{attrs:{label:"权限路由",prop:"router"}},[r("el-input",{attrs:{maxlength:100},model:{value:e.authForm.router,callback:function(t){e.$set(e.authForm,"router",t)},expression:"authForm.router"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权限名字",prop:"title"}},[r("el-input",{attrs:{maxlength:20},model:{value:e.authForm.title,callback:function(t){e.$set(e.authForm,"title",t)},expression:"authForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权限描述",prop:"description"}},[r("el-input",{attrs:{maxlength:20},model:{value:e.authForm.description,callback:function(t){e.$set(e.authForm,"description",t)},expression:"authForm.description"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权限排序顺序",prop:"sort_order"}},[r("el-input-number",{model:{value:e.authForm.sort_order,callback:function(t){e.$set(e.authForm,"sort_order",t)},expression:"authForm.sort_order"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权限父级id"}},[r("el-select",{attrs:{placeholder:"权限父级id"},model:{value:e.authForm.parent_id,callback:function(t){e.$set(e.authForm,"parent_id",t)},expression:"authForm.parent_id"}},e._l(e.selectionList,function(e,t){return r("el-option",{key:t,attrs:{label:e.titles,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否展示"}},[r("el-switch",{model:{value:e.authForm.is_display,callback:function(t){e.$set(e.authForm,"is_display",t)},expression:"authForm.is_display"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v(e._s(e.$route.query.id?"确认编辑":"立即创建"))]),e._v(" "),r("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var lt=a("VU/8")(ot,ct,!1,function(e){a("EuxK")},"data-v-878598aa",null).exports,ut={props:{paperDialogVisible:{default:!1,type:Boolean},isEditPaper:{default:!1,type:Boolean},paperProps:{type:Object,default:function(){return{}}},selectedPapers:{type:Array,default:function(){return[]}}},data:function(){var e=this,t={validatePaper_category_id:function(t,r,a){var n=e.selectedPapers.some(function(e,t){return e.paper_category_id==r});r?n&&!e.isEditPaper?a(new Error("当前证书已选择")):a():a(new Error("请选择证书"))},validateImages:function(e,t,r){0==t.length?r(new Error("至少保存一张图片")):r()}};return{paperRules:{paper_category_id:[{validator:t.validatePaper_category_id,trigger:"change"}],images:[{validator:t.validateImages,trigger:"change"}]},paperForm:{id:null,paper_category_name:this.paperProps.paper_category_name,paper_category_id:this.paperProps.paper_category_id,images:this.paperProps.images},paperCategoryList:[],uploadHeader:{accessToken:this.$store.state.loginModule.token.access_token}}},methods:{uploadSuccess:function(e,t,r){var a={path:e.data.path,url:"./resource/"+e.data.path,name:e.data.name};this.paperForm.images.push(a),this.paperForm.images.length&&this.$refs.paper.clearValidate()},removePic:function(e,t){var r=this;this.paperForm.images.forEach(function(t,a){t.name==e.name&&r.paperForm.images.splice(a,1)})},surePaper:function(e){var t=this,r=this;this.$refs[e].validate(function(e){if(!e)return!1;t.paperForm.paper_category_name=t.paperCategoryList.find(function(e,t){return e.id==r.paperForm.paper_category_id}).name,t.$emit("changePaper",t.paperForm,t.isEditPaper)})},cancelPaper:function(){this.$emit("closePaper")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.prev=1,t.next=4,at.a.all([ar.getPaperSelection("enable")]);case 4:r=t.sent,e.paperCategoryList=r[0].data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 11:store.commit("setLoading",!1);case 12:case"end":return t.stop()}},t,e,[[1,8]])}))()}},mt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"添加证书",visible:e.paperDialogVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.paperDialogVisible=t}}},[r("el-form",{ref:"paperForm",attrs:{model:e.paperForm,"label-width":"120px",rules:e.paperRules}},[r("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"证书",prop:"paper_category_id"}},[r("el-select",{attrs:{placeholder:"请选择",disabled:e.isEditPaper},model:{value:e.paperForm.paper_category_id,callback:function(t){e.$set(e.paperForm,"paper_category_id",t)},expression:"paperForm.paper_category_id"}},e._l(e.paperCategoryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",{ref:"paper",attrs:{label:"上传图片",prop:"images"}},[r("el-upload",{attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",action:"/admin/common/uploadImage","on-success":e.uploadSuccess,"on-remove":e.removePic,"file-list":e.paperForm.images,"list-type":"picture-card",headers:e.uploadHeader}},[r("i",{staticClass:"el-icon-plus"})])],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancelPaper}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.surePaper("paperForm")}}},[e._v("确定")])],1)],1)},staticRenderFns:[]},dt=a("VU/8")(ut,mt,!1,null,null,null).exports,pt={props:{value:{type:Array,default:function(){return[]}}},watch:{value:function(e){this.paperList=e}},components:{paperDialog:dt,pictureDetailDialog:De},data:function(){return{paperList:[],paperDialog:{isEditPaper:!1,paperDialogVisible:!1,paperAddModel:{id:0,paper_category_name:null,paper_category_id:null,images:[]}},openPictureDetailDialog:!1,imageUrl:""}},methods:{openPaperDialog:function(e,t){"edit"==e?(this.paperDialog.isEditPaper=!0,this.paperDialog.paperAddModel={id:t.id,paper_category_name:t.paper_category_name,paper_category_id:t.paper_category_id,images:[].concat(he()(t.images))}):(this.paperDialog.isEditPaper=!1,this.paperDialog.paperAddModel={id:null,paper_category_name:"",paper_category_id:null,images:[]}),this.paperDialog.paperDialogVisible=!0},deleteFormPaper:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.paperList.forEach(function(r,a){r.paper_category_id==e.paper_category_id&&t.paperList.splice(a,1)}),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},changePaper:function(e,t){var r=this;t?this.paperList.forEach(function(t,a){e.paper_category_id==t.paper_category_id&&r.paperList.splice(a,1,e)}):this.paperList.push(e),this.$emit("input",this.paperList),this.paperDialog.paperDialogVisible=!1},cancelPaperFn:function(){this.paperDialog.paperDialogVisible=!1},showDetialPic:function(e){this.imageUrl=e,this.openPictureDetailDialog=!0}},mounted:function(){console.log(this.$children)}},gt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"paper-box"},[r("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{icon:"el-icon-plus"},on:{click:function(t){e.openPaperDialog("new",{})}}},[e._v("添加证书")]),e._v(" "),r("el-row",e._l(e.paperList,function(t,a){return r("el-col",{key:a,attrs:{span:24}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("div",{staticClass:"paper-imgs"},e._l(t.images,function(t,a){return r("img",{key:a,staticClass:"paper-item-img",attrs:{src:t.url},on:{click:function(r){e.showDetialPic(t.url)}}})}),0),e._v(" "),r("div",{staticClass:"image-messsage"},[r("p",[e._v(e._s(t.paper_category_name))]),e._v(" "),r("div",[r("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"small"},on:{click:function(r){e.deleteFormPaper(t)}}},[e._v("删除")]),e._v(" "),r("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"small"},on:{click:function(r){e.openPaperDialog("edit",t)}}},[e._v("编辑")])],1)])])],1)}),1),e._v(" "),e.paperDialog.paperDialogVisible?r("paper-dialog",{attrs:{isEditPaper:e.paperDialog.isEditPaper,paperDialogVisible:e.paperDialog.paperDialogVisible,paperProps:e.paperDialog.paperAddModel,selectedPapers:e.paperList},on:{changePaper:e.changePaper,closePaper:e.cancelPaperFn}}):e._e(),e._v(" "),e.openPictureDetailDialog?r("picture-detail-dialog",{attrs:{imageUrl:e.imageUrl,title:"证书详情",openPictureDetailDialog:e.openPictureDetailDialog},on:{closePictureDetailDialog:function(t){e.openPictureDetailDialog=!1}}}):e._e()],1)},staticRenderFns:[]};var ft=a("VU/8")(pt,gt,!1,function(e){a("e4nG")},"data-v-9637f2c4",null).exports,ht={data:function(){return{isShow:!1,showQueryList:[],queryedList:[]}},props:{queryList:{type:Array,default:function(){return[]}},queryName:{type:String,default:""}},watch:{queryList:function(e,t){0==t.length&&0!=e.length&&(this.showQueryList=this.queryList.map(function(e,t){return B()({},e,{isSelected:!1})}))}},mounted:function(){this.showQueryList=this.queryList.map(function(e,t){return B()({},e,{isSelected:!1})})},methods:{toggle:function(){this.isShow=!this.isShow},addQuery:function(e){var t=this;e.isSelected=!e.isSelected,this.showQueryList.forEach(function(e,r){e.isSelected&&t.queryedList.push(e)}),this.$emit("changeQuery",this.queryedList)}}},vt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-box"},[r("div",{staticClass:"search-label",on:{click:e.toggle}},[e._v(e._s(e.queryName))]),e._v(" "),e.isShow?r("div",{staticClass:"search-list"},e._l(e.showQueryList,function(t,a){return r("div",{key:a,staticClass:"list-item",class:t.isSelected?"list-item-active":"",on:{click:function(r){e.addQuery(t)}}},[r("span",{staticClass:"list-item-block",class:"list-item-color"+(a+1)%5}),e._v("\n            "+e._s(t.name)+"\n        ")])}),0):e._e()])},staticRenderFns:[]};var yt={data:function(){return{setConfigForm:[]}},components:{searchList:a("VU/8")(ht,vt,!1,function(e){a("DdeS")},"data-v-50ad5504",null).exports},computed:{configForm:function(){return this.$store.state.hrModule.configForm}},watch:{},methods:{changeAuthentication:function(){}},mounted:function(){}},_t={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("search-list",{attrs:{queryName:"认证状态",queryList:e.configForm.authentication}}),e._v(" "),r("search-list",{attrs:{queryName:"参加培训",queryList:e.configForm.course}}),e._v(" "),r("search-list",{attrs:{queryName:"民族",queryList:e.configForm.nation}}),e._v(" "),r("search-list",{attrs:{queryName:"技能证书标签",queryList:e.configForm.paper_category}}),e._v(" "),r("search-list",{attrs:{queryName:"职业类型",queryList:e.configForm.service_category}}),e._v(" "),r("search-list",{attrs:{queryName:"可服务人群",queryList:e.configForm.service_crowd}}),e._v(" "),r("search-list",{attrs:{queryName:"区域",queryList:e.configForm.service_region}}),e._v(" "),r("search-list",{attrs:{queryName:"服务类型",queryList:e.configForm.service_type}}),e._v(" "),r("search-list",{attrs:{queryName:"职业类型",queryList:e.configForm.service_category},on:{changeQuery:e.changeAuthentication}}),e._v(" "),r("search-list",{attrs:{queryName:"信息来源",queryList:e.configForm.source}}),e._v(" "),r("search-list",{attrs:{queryName:"工龄",queryList:e.configForm.working_age}}),e._v(" "),r("search-list",{attrs:{queryName:"接单状态",queryList:e.configForm.working_status}})],1)},staticRenderFns:[]};var bt=a("VU/8")(yt,_t,!1,function(e){a("22Vt")},"data-v-b1b0ff08",null).exports,Mt=a("eMjc"),kt=a.n(Mt),wt={props:{openMakeImageDialog:{type:Boolean,default:!1},makeImageDialogTitle:{type:String,default:"下载图片"},openMakeImage:{type:Object,default:function(){return{}}}},watch:{openMakeImage:function(){var e=o()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.hasOwnProperty("name");case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},data:function(){return{canvasBase64Img:"",canvasImage:"",isImage:!1,isMakingImage:!1}},methods:{closeMakeImageDialog:function(){this.$emit("closeMakeImageDialog")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,e.isMakingImage=!0,t.next=4,kt()(r.$refs.imageCutBox).then(function(){var e=o()(i.a.mark(function e(t){var a,n,s,o,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r.canvasBase64Img=t.toDataURL("image/png"),a=window.atob(r.canvasBase64Img.split(",")[1]),n=[],s=0;s<a.length;s++)n.push(a.charCodeAt(s));return o=new Blob([new Uint8Array(n)],{type:"image/png"}),(c=new FormData).append("file",o),e.next=9,u.a.post("/admin/common/uploadImage",c).then(function(e){r.canvasImage="./resource/"+e.data.path,r.isImage=!0,r.isImage&&(r.isMakingImage=!1)}).catch(function(e){r.$message({message:e.message,type:"error"}),r.isMakingImage=!1});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}},t,e)}))()}},xt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.openMakeImageDialog?r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isMakingImage,expression:"isMakingImage"}],staticClass:"imageBox"},[r("div",{staticClass:"imageBox-contains"},[r("div",{ref:"imageCutBox",staticClass:"imageCutBox canvasDiv",style:{zIndex:e.isImage?"-200":"200"}},[r("div",{staticClass:"picture-contains"},[r("div",{staticClass:"base"},[r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("姓名：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.name))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("民族：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.name))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("年龄")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.age))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("学历：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.education))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("籍贯：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.birthplace))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("民族：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.name))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("籍贯：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.birthplace))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("民族：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.name))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("籍贯：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.birthplace))])]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"label"},[e._v("民族：")]),e._v(" "),r("div",{staticClass:"value"},[e._v(e._s(e.openMakeImage.name))])])]),e._v(" "),r("div",{staticClass:"icon"},[r("img",{attrs:{src:"./resource/"+e.openMakeImage.icon,alt:""}})])])]),e._v(" "),r("div",{staticClass:"imageCutBox",style:{zIndex:e.isImage?"200":"-200"}},[r("img",{staticClass:"canvas-img",attrs:{src:e.canvasImage,alt:""}})]),e._v(" "),r("div",{staticClass:"imageBox-footer"},[r("el-button",{on:{click:e.closeMakeImageDialog}},[e._v("取 消")]),e._v(" "),r("a",{staticClass:"down",attrs:{href:e.canvasImage,download:"logo.png"}},[e._v("下载图片")])],1)])]):e._e()},staticRenderFns:[]};var Nt=a("VU/8")(wt,xt,!1,function(e){a("sQpX")},"data-v-352668ab",null).exports,zt={components:{cascaderComponent:Le,tableTagComponent:Ve,queryComponent:bt},data:function(){return{staffTable:[],staffSearch:{name:"",phone:""},isLoaded:!1,pagination:{total:0,currentPage:1,pageNumber:20},maxHeight:0}},computed:{searchArray:function(){var e=[],t=this;return y()(this.staffSearch).forEach(function(r,a){if(Array.isArray(t.staffSearch[r])){if(t.staffSearch[r].length){var n={};n[r]=[].concat(he()(t.staffSearch[r])),n=B()({},n,{key:r}),e.push(n)}}else if(""!=t.staffSearch[r]){var i={};i[r]=t.staffSearch[r],i=B()({},i,{key:r}),e.push(i)}}),e},workerConfigList:function(){return this.$store.state.hrModule.configForm}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,get_for:"staff",searchSelect:e.searchArray},t.prev=1,e.isLoaded=!0,t.next=5,at.a.all([ar.getFormConfig(),ar.getStaffList(r)]).then(function(t){e.$store.commit("setConfigForm",t[0].data),e.staffTable=t[1].data.data,e.pagination.currentPage=t[1].data.current_page,e.pagination.total=t[1].data.total}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){e.isLoaded=!1});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[1,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchStaff:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetStaff:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.staffSearch.name="",t.next=3,e.getTableList();case 3:case"end":return t.stop()}},t,e)}))()},createStaff:function(){this.$router.push({path:"/worker/workerItem",query:{type:0}})},editStaff:function(e,t){this.$router.push({path:"/worker/workerItem",query:{type:1,id:t.id}})},changeStaffStatus:function(e){var t=this;return o()(i.a.mark(function r(){var a,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t,n=0==e.status?"停用":"启用",r.next=4,t.$confirm("确定"+n+"该服务人员吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(){t.$message({type:"info",message:"已取消"+n})});case 4:if("confirm"!=r.sent){r.next=18;break}return store.commit("setLoading",!0),r.prev=7,r.next=10,ar.changeStaffStatus(e.id,e.version).then(function(e){"0"==e.code&&t.$message({type:"success",message:n+"成功"})}).catch(function(e){t.$message({type:"error",message:e.message})});case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(7),t.$message({type:"error",message:r.t0.message});case 15:return r.next=17,a.getTableList();case 17:store.commit("setLoading",!1);case 18:case"end":return r.stop()}},r,t,[[7,12]])}))()},rowStyleFunction:function(e,t){if(console.log(e,t),0==t)return{height:"30px"}},created_atFormatter:function(e,t){return Va.formatDate(new Date(e.created_at),"yyyy-MM-dd hh:mm:ss")},register_atFormatter:function(e,t){return Va.formatDate(new Date(e.register_at),"yyyy-MM-dd")},educationFomatter:function(e,t){var r=this.$store.state.hrModule.educationList.filter(function(t){return t.id==e.education});return r.length?r[0].name:""}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},Lt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoaded,expression:"isLoaded"}],staticClass:"staff"},[r("div",{staticClass:"list-table"},[r("div",{staticClass:"search-list"},[r("query-component")],1),e._v(" "),r("div",{staticClass:"table-list"},[r("div",{staticClass:"search-form"},[r("div",{staticClass:"search-left"},[r("el-input",{attrs:{placeholder:"请输入员工姓名",maxlength:20},model:{value:e.staffSearch.name,callback:function(t){e.$set(e.staffSearch,"name",t)},expression:"staffSearch.name"}}),e._v(" "),r("el-input",{attrs:{placeholder:"请输入电话",maxlength:20},model:{value:e.staffSearch.phone,callback:function(t){e.$set(e.staffSearch,"phone",t)},expression:"staffSearch.phone"}}),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.searchStaff}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetStaff}},[e._v("重置")])],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.createStaff}},[e._v("添加服务人员")])],1),e._v(" "),r("el-table",{staticClass:"staff-table",attrs:{data:e.staffTable,stripe:!0,border:"",fit:!0,height:"calc(100vh-90px)","cell-style":{height:"30px",padding:"2px 0"},"header-cell-style":{height:"30px",fontSize:"12px",padding:"0px!important"}}},[r("el-table-column",{attrs:{label:"员工号",prop:"staff_code",align:"center",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{label:"性别",prop:"sex",align:"center",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{staticClass:"tag-style",attrs:{size:"medium"}},[e._v(e._s(1==t.row.sex?"男":"女"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"签约状态",prop:"type",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{staticClass:"tag-style",attrs:{size:"medium"}},[e._v(e._s("sign"==t.row.sex?"已签约":"未签约"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"created_at",align:"center",formatter:e.created_atFormatter,width:"155"}}),e._v(" "),r("el-table-column",{attrs:{label:"登记时间",prop:"register_at",formatter:e.register_atFormatter,align:"center",width:"110"}}),e._v(" "),r("el-table-column",{attrs:{label:"认证状态",prop:"authentication",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.workerConfigList.authentication?r("table-tag-component",{attrs:{propList:e.workerConfigList.authentication,tableOriginData:t.row.authentication}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"姓名",prop:"name",align:"center",fixed:"left"}}),e._v(" "),r("el-table-column",{attrs:{label:"年龄",prop:"age",align:"center",width:"60"}}),e._v(" "),r("el-table-column",{attrs:{label:"电话",prop:"phone",align:"center",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{label:"回访信息",prop:"return_msg",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"click",placement:"top"}},[r("p",[e._v(e._s(t.row.return_msg))]),e._v(" "),r("div",{attrs:{slot:"reference"},slot:"reference"},[r("p",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"129px"}},[e._v(e._s(t.row.return_msg))])])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"接单状态",prop:"working_status",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.workerConfigList.working_status?r("table-tag-component",{attrs:{propList:e.workerConfigList.working_status,tableOriginData:t.row.working_status}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"备注（商家情况）",prop:"remarks",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"click",placement:"top"}},[r("p",[e._v(e._s(t.row.remarks))]),e._v(" "),r("div",{attrs:{slot:"reference"},slot:"reference"},[r("p",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"129px"}},[e._v(e._s(t.row.remarks))])])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"职业类型",prop:"skill",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"服务类型",prop:"service_type",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.workerConfigList.service_type?r("table-tag-component",{attrs:{propList:e.workerConfigList.service_type,tableOriginData:t.row.service_type}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"可服务人群",prop:"service_crowd",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.workerConfigList.service_crowd?r("table-tag-component",{attrs:{propList:e.workerConfigList.service_crowd,tableOriginData:t.row.service_crowd}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"工龄",prop:"working_age",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.workerConfigList.working_age?r("table-tag-component",{attrs:{propList:e.workerConfigList.working_age,tableOriginData:t.row.working_age}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"工作经验",prop:"working_experience",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"click",placement:"top"}},[r("p",[e._v(e._s(t.row.working_experience))]),e._v(" "),r("div",{attrs:{slot:"reference"},slot:"reference"},[r("p",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"129px"}},[e._v(e._s(t.row.working_experience))])])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"民族",prop:"nation",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.workerConfigList.nation?r("table-tag-component",{attrs:{propList:e.workerConfigList.nation,tableOriginData:t.row.nation}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"籍贯",prop:"birthPlace",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"身份证号",prop:"identify",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"地址",prop:"address",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"click",placement:"top"}},[r("p",[e._v(e._s(t.row.address))]),e._v(" "),r("p",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"129px"},attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.address))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"服务地区",prop:"region",align:"center",width:""}}),e._v(" "),r("el-table-column",{attrs:{label:"学历",prop:"education",align:"center",formatter:e.educationFomatter,width:"120"}}),e._v(" "),r("el-table-column",{attrs:{label:"紧急联系人电话",prop:"urgent_phone",align:"center",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{label:"银行卡号",prop:"bank_card",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"头像",prop:"icon",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{staticStyle:{height:"24px",width:"24px"},attrs:{src:e.row.icon?"./resource/"+e.row.icon:"",alt:""}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"课程",prop:"course",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"技能证书",prop:"paper",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"信息来源",prop:"source",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.workerConfigList.source?r("table-tag-component",{attrs:{propList:e.workerConfigList.source,tableOriginData:t.row.source}}):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"创建人",prop:"manager_name",align:"center",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(r){e.editStaff(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),0==t.row.status?r("el-button",{staticStyle:{color:"#f56c6c"},attrs:{size:"mini",type:"text"},on:{click:function(r){e.changeStaffStatus(t.row)}}},[e._v("停用")]):r("el-button",{staticStyle:{color:"#67c23a"},attrs:{size:"mini",type:"text"},on:{click:function(r){e.changeStaffStatus(t.row)}}},[e._v("启用")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageNumber,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)])])},staticRenderFns:[]};var Ct=a("VU/8")(zt,Lt,!1,function(e){a("7VqL")},"data-v-4af5c16a",null).exports,Tt=a("6i3P"),Dt=a.n(Tt),St={components:{paperComponent:ft,selectTagComponent:Ee,makeImageComponent:Nt},data:function(){var e=this,t={nameValidate:function(t,r,a){var n=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=r){t.next=6;break}e.nameCheck=!1,e.nameCheckObject={},a(new Error("请输入姓名")),t.next=16;break;case 6:return t.prev=6,t.next=9,ar.checkStaffName(e.workerForm.id,r).then(function(t){"0"==t.code?(a(),e.nameCheck=!1,e.nameCheckObject={}):a(new Error(t.message))});case 9:t.next=16;break;case 11:t.prev=11,t.t0=t.catch(6),e.nameCheck=!0,e.nameCheckObject=t.t0.data,a(t.t0.message);case 16:case"end":return t.stop()}},t,n,[[6,11]])}))()},ageValidate:function(e,t,r){t?(/^\d+$/.test(t)||r(new Error("年龄只能是数字")),r()):r(new Error("请输入年龄"))},phoneValidate:function(e,t,r){""===t?r(new Error("请输入手机号")):(/^1[34578]\d{9}$/.test(t)||r(new Error("请输入正确格式的手机号")),r())},identifyValidate:function(e,t,r){""!=t?(18==t.length&&/(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)||r(new Error("请输入18位有效身份证号")),r()):r()},bankCardValidate:function(e,t,r){""!=t?/^[0-9]+$/.test(t)?r():r(new Error("银行卡号只能是数字")):r()}};return{qrcode:Dt.a,canvasImg:"",openMakeImageDialog:!1,openMakeImage:{},icon_fileList:[],photo_fileList:[],nameCheck:!1,nameCheckObject:{},workerForm:{id:null,staff_code:null,version:null,created_at:null,type:null,sex:1,register_at:null,authentication:0,name:"",age:null,phone:"",return_msg:"",working_status:0,remarks:"",skill:[],service_type:0,service_crowd:[],working_age:0,working_experience:"",nation:0,birthPlace:"",identify:"",address:"",region:[],education:0,urgent_phone:"",bank_card:"",icon:"",photo:[],course:[],paper:[],certificate:[],source:0,manager_id:0,manager_name:this.$store.state.loginModule.user.username},staffRules:{register_at:[{type:"date",required:!0,message:"选择登记时间",trigger:["blur","change"]}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{validator:t.nameValidate,trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{validator:t.ageValidate,trigger:"blur"}],phone:[{required:!0,message:"请输入电话",trigger:"blur"},{validator:t.phoneValidate,trigger:"blur"}],identify:[{validator:t.identifyValidate,trigger:"blur"}],bank_card:[{validator:t.bankCardValidate,trigger:"blur"}]},workerConfigList:{authentication:[],course:[],paper_category:[]},isShowBlack:!1,uploadHeader:{accessToken:this.$store.state.loginModule.token.access_token}}},computed:{educationList:function(){return this.$store.state.hrModule.educationList},nationList:function(){return this.$store.state.hrModule.nation}},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$refs[e].validate(function(){var e=o()(i.a.mark(function e(r,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=18;break}return t.workerForm.service_crowd=t.setCommitAttr(t.workerForm.service_crowd,t.workerConfigList.service_crowd,"service_crowd_id"),t.workerForm.region=t.setCommitAttr(t.workerForm.region,t.workerConfigList.service_region,"region_id"),t.workerForm.skill=t.setCommitAttr(t.workerForm.skill,t.workerConfigList.service_category,"service_category_id"),t.workerForm.course=t.setCommitAttr(t.workerForm.course,t.workerConfigList.course,"course_id"),t.workerForm.service_type=t.setCommitAttr(t.workerForm.service_type,t.workerConfigList.service_type,"service_type_id"),t.workerForm.paper=t.setCommitAttr(t.workerForm.paper,t.workerConfigList.paper_category,"paper_category_id"),e.prev=7,store.commit("setLoading",!0),e.next=11,ar.editStaff(t.workerForm).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"修改成功"}),store.commit("setLoading",!1),t.goback())}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(function(){store.commit("setLoading",!1)});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),t.$message({type:"error",message:e.t0.message});case 16:e.next=19;break;case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,t,[[7,13]])}));return function(t,r){return e.apply(this,arguments)}}());case 2:case"end":return r.stop()}},r,t)}))()},setCommitAttr:function(e,t,r){return t.reduce(function(t,a,n){var i=null;return e.forEach(function(e,t){e==a.id&&((i={})[r]=a.id,i.name=a.name)}),null==i?t:t.concat(i)},[])},showblack:function(e){this.isShowBlack="0"==e},showPhotoblack:function(e,t,r){this.photo_fileList[t].isBack="0"==r},deletePhoto:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("确定删除该照片吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(){t.$message({type:"info",message:"已取消删除"})});case 2:"confirm"==r.sent&&(t.photo_fileList.splice(e,1),t.workerForm.photo.splice(e,1));case 4:case"end":return r.stop()}},r,t)}))()},iconUploadSuccess:function(e,t){this.workerForm.icon=e.data.path,this.icon_fileList=[{url:"./resource/"+this.workerForm.icon,name:"head"}]},photoUploadSuccess:function(e,t){this.workerForm.photo.push(e.data),this.photo_fileList=this.workerForm.photo.map(function(e,t){return B()({},e,{url:"./resource/"+e.path,isBack:!1})})},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},goback:function(){this.$router.push("/worker/workerList")},makeImage:function(){this.openMakeImageDialog=!0,this.openMakeImage=this.workerForm}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e,t.prev=1,t.next=4,store.commit("setLoading",!0);case 4:if(1!=e.$route.query.type){t.next=7;break}return t.next=7,ar.getStaff(e.$route.query.id).then(function(t){if("0"==t.code){var r=t.data;r.certificate.forEach(function(e,t){e.images.forEach(function(e,t){e.url="./resource/"+e.path})}),r.paper=r.paper.reduce(function(e,t,r){return e.concat(t.paper_category_id)},[]),r.region=r.region.reduce(function(e,t,r){return e.concat(t.region_id)},[]),r.service_crowd=r.service_crowd.reduce(function(e,t,r){return e.concat(t.service_crowd_id)},[]),r.skill=r.skill.reduce(function(e,t,r){return e.concat(t.service_category_id)},[]),r.course=r.course.reduce(function(e,t,r){return e.concat(t.course_id)},[]),r.service_type=r.service_type.reduce(function(e,t,r){return e.concat(t.service_type_id)},[]),e.icon_fileList=""==r.icon?[]:[{url:"./resource/"+r.icon,name:"head"}],e.photo_fileList=r.photo.map(function(e,t){return B()({},e,{url:"./resource/"+e.path,isBack:!1})}),e.workerForm=r}}).catch(function(t){e.$message({type:"error",message:t.message})});case 7:return t.next=9,ar.getFormConfig().then(function(t){"0"==t.code&&(e.workerConfigList=t.data)});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 14:return t.next=16,store.commit("setLoading",!1);case 16:case"end":return t.stop()}},t,e,[[1,11]])}))()}},jt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"staff-box"},[r("el-form",{ref:"form",staticClass:"staff-form",attrs:{model:e.workerForm,rules:e.staffRules,"label-width":"140px"}},[r("el-form-item",{staticClass:"form-item-size",attrs:{label:"登记日期",prop:"register_at",size:"small"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"请选择登记日期"},model:{value:e.workerForm.register_at,callback:function(t){e.$set(e.workerForm,"register_at",t)},expression:"workerForm.register_at"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"认证状态",prop:"authentication",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.authentication,isSingle:!0},model:{value:e.workerForm.authentication,callback:function(t){e.$set(e.workerForm,"authentication",t)},expression:"workerForm.authentication"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"姓名",prop:"name",size:"small"}},[r("el-input",{attrs:{maxlength:20,placeholder:"请输入服务人员姓名"},model:{value:e.workerForm.name,callback:function(t){e.$set(e.workerForm,"name",t)},expression:"workerForm.name"}})],1),e._v(" "),e.nameCheck?r("div",{staticClass:"nameCheckBox"},[r("p",[e._v(e._s("共有"+e.nameCheckObject.count+"个可能重名的人"))]),e._v(" "),r("div",{staticClass:"nameBox"},e._l(e.nameCheckObject.names,function(t,a){return r("div",{key:a,staticClass:"name-tag"},[e._v(e._s(t.name))])}),0)]):e._e(),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"年龄",prop:"age",size:"small"}},[r("el-input",{attrs:{maxlength:2,placeholder:"请输入年龄"},model:{value:e.workerForm.age,callback:function(t){e.$set(e.workerForm,"age",t)},expression:"workerForm.age"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"电话",prop:"phone",size:"small"}},[r("el-input",{attrs:{maxlength:11,placeholder:"请输入手机号"},model:{value:e.workerForm.phone,callback:function(t){e.$set(e.workerForm,"phone",t)},expression:"workerForm.phone"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"回访信息",prop:"return_msg",size:"small"}},[r("el-input",{attrs:{maxlength:200,placeholder:"请输入回访信息"},model:{value:e.workerForm.return_msg,callback:function(t){e.$set(e.workerForm,"return_msg",t)},expression:"workerForm.return_msg"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"接单状态",prop:"working_status",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.working_status,isSingle:!0},model:{value:e.workerForm.working_status,callback:function(t){e.$set(e.workerForm,"working_status",t)},expression:"workerForm.working_status"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"备注（商家情况）",prop:"remarks",size:"small"}},[r("el-input",{attrs:{maxlength:200,placeholder:"请输入备注信息"},model:{value:e.workerForm.remarks,callback:function(t){e.$set(e.workerForm,"remarks",t)},expression:"workerForm.remarks"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"职业类型",prop:"skill",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.service_category,isSingle:!1},model:{value:e.workerForm.skill,callback:function(t){e.$set(e.workerForm,"skill",t)},expression:"workerForm.skill"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"服务类型",prop:"service_type",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.service_type,isSingle:!1},model:{value:e.workerForm.service_type,callback:function(t){e.$set(e.workerForm,"service_type",t)},expression:"workerForm.service_type"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"可服务人群",prop:"service_crowd",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.service_crowd,isSingle:!1},model:{value:e.workerForm.service_crowd,callback:function(t){e.$set(e.workerForm,"service_crowd",t)},expression:"workerForm.service_crowd"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"工龄",prop:"working_age",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.working_age,isSingle:!0},model:{value:e.workerForm.working_age,callback:function(t){e.$set(e.workerForm,"working_age",t)},expression:"workerForm.working_age"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"工作经验（备注）",prop:"working_experience",size:"small"}},[r("el-input",{attrs:{maxlength:200,placeholder:"请输入备注信息"},model:{value:e.workerForm.working_experience,callback:function(t){e.$set(e.workerForm,"working_experience",t)},expression:"workerForm.working_experience"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"民族",prop:"nation",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.nation,isSingle:!0},model:{value:e.workerForm.nation,callback:function(t){e.$set(e.workerForm,"nation",t)},expression:"workerForm.nation"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"籍贯",prop:"birthPlace",size:"small"}},[r("el-input",{attrs:{maxlength:20,placeholder:"请输入籍贯信息"},model:{value:e.workerForm.birthPlace,callback:function(t){e.$set(e.workerForm,"birthPlace",t)},expression:"workerForm.birthPlace"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"身份证号码",prop:"identify",size:"small"}},[r("el-input",{attrs:{maxlength:18,placeholder:"请输入身份证号"},model:{value:e.workerForm.identify,callback:function(t){e.$set(e.workerForm,"identify",t)},expression:"workerForm.identify"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"地址",prop:"address",size:"small"}},[r("el-input",{attrs:{maxlength:50,placeholder:"请输入备注"},model:{value:e.workerForm.address,callback:function(t){e.$set(e.workerForm,"address",t)},expression:"workerForm.address"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"区域",prop:"region",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.service_region,isSingle:!1},model:{value:e.workerForm.region,callback:function(t){e.$set(e.workerForm,"region",t)},expression:"workerForm.region"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"学历",prop:"education",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.$store.state.hrModule.educationList,isSingle:!0},model:{value:e.workerForm.education,callback:function(t){e.$set(e.workerForm,"education",t)},expression:"workerForm.education"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"紧急联系人电话",prop:"urgent_phone",size:"small"}},[r("el-input",{attrs:{maxlength:11,placeholder:"请输入备注"},model:{value:e.workerForm.urgent_phone,callback:function(t){e.$set(e.workerForm,"urgent_phone",t)},expression:"workerForm.urgent_phone"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"银行卡号",prop:"bank_card",size:"small"}},[r("el-input",{attrs:{maxlength:50,placeholder:"请输入备注"},model:{value:e.workerForm.bank_card,callback:function(t){e.$set(e.workerForm,"bank_card",t)},expression:"workerForm.bank_card"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"头像"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",action:"/admin/common/uploadImage","show-file-list":!1,"file-list":e.icon_fileList,"on-success":e.iconUploadSuccess,"before-upload":e.beforeAvatarUpload,headers:e.uploadHeader}},[""!=e.workerForm.icon?r("div",{staticClass:"avatar-box",on:{mouseover:function(t){e.showblack("0")},mouseout:function(t){e.showblack("1")}}},[r("img",{staticClass:"avatar",attrs:{src:""==e.workerForm.icon?"":"./resource/"+e.workerForm.icon}}),e._v(" "),e.isShowBlack?r("div",{staticClass:"avatar-back"},[r("i",{staticClass:"el-icon-edit avatar-uploader-icon",staticStyle:{color:"#fff","font-size":"20px"}})]):e._e()]):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"照片"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",action:"/admin/common/uploadImage","show-file-list":!1,"on-success":e.photoUploadSuccess,"before-upload":e.beforeAvatarUpload,headers:e.uploadHeader}},[r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),e.photo_fileList.length?r("div",{staticClass:"picture-box"},e._l(e.photo_fileList,function(t,a){return r("div",{key:a,staticClass:"avatar-box",on:{mouseover:function(r){e.showPhotoblack(t,a,"0")},mouseout:function(r){e.showPhotoblack(t,a,"1")}}},[r("img",{staticClass:"avatar",attrs:{src:t.url}}),e._v(" "),t.isBack?r("div",{staticClass:"avatar-back",on:{click:e.deletePhoto}},[r("i",{staticClass:"el-icon-delete avatar-uploader-icon"})]):e._e()])}),0):e._e()],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"参加培训",prop:"course",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.course,isSingle:!1},model:{value:e.workerForm.course,callback:function(t){e.$set(e.workerForm,"course",t)},expression:"workerForm.course"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"技能证书",prop:"certificate"}},[r("paper-component",{model:{value:e.workerForm.certificate,callback:function(t){e.$set(e.workerForm,"certificate",t)},expression:"workerForm.certificate"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"技能证书标签",prop:"paper"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.paper_category,isSingle:!1},model:{value:e.workerForm.paper,callback:function(t){e.$set(e.workerForm,"paper",t)},expression:"workerForm.paper"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"信息来源",prop:"source",size:"small"}},[r("select-tag-component",{attrs:{propTagList:e.workerConfigList.source,isSingle:!0},model:{value:e.workerForm.source,callback:function(t){e.$set(e.workerForm,"source",t)},expression:"workerForm.source"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"创建人姓名",prop:"manager_name",size:"small"}},[r("el-input",{attrs:{maxlength:50,disabled:""},model:{value:e.workerForm.manager_name,callback:function(t){e.$set(e.workerForm,"manager_name",t)},expression:"workerForm.manager_name"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.workerForm.sex,callback:function(t){e.$set(e.workerForm,"sex",t)},expression:"workerForm.sex"}},[r("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1)],1),e._v(" "),r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v(e._s(e.$route.query.id?"确认编辑":"立即创建"))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.makeImage}},[e._v("创建图片")]),e._v(" "),r("el-button",{on:{click:e.goback}},[e._v("返回")])],1),e._v(" "),e.openMakeImageDialog?r("make-image-component",{attrs:{openMakeImageDialog:e.openMakeImageDialog,openMakeImage:e.openMakeImage},on:{closeMakeImageDialog:function(t){e.openMakeImageDialog=!1}}}):e._e()],1)},staticRenderFns:[]};var At=a("VU/8")(St,jt,!1,function(e){a("oOQt")},"data-v-554c9475",null).exports,It={components:{configTagComponent:Fe},data:function(){return{workConfigForm:{authentication:[],course:[],paper_category:[],service_category:[],service_crowd:[],service_type:[],source:[],working_age:[],service_region:[],working_status:[]}}},methods:{getWorkFormConfig:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.prev=1,t.next=4,ar.getFormConfig().then(function(t){"0"==t.code&&(e.workConfigForm=t.data)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 9:case"end":return t.stop()}},t,e,[[1,6]])}))()}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getWorkFormConfig();case 2:case"end":return t.stop()}},t,e)}))()}},Ft={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"worker-config-box"},[r("el-form",{ref:"form",staticClass:"worker-config-form",attrs:{model:e.workConfigForm,"label-width":"140px"}},[r("el-form-item",{staticClass:"form-item-size",attrs:{label:"认证状态字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"authentication"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.authentication,callback:function(t){e.$set(e.workConfigForm,"authentication",t)},expression:"workConfigForm.authentication"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"课程字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"course"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.course,callback:function(t){e.$set(e.workConfigForm,"course",t)},expression:"workConfigForm.course"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"证书字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"paper_category"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.paper_category,callback:function(t){e.$set(e.workConfigForm,"paper_category",t)},expression:"workConfigForm.paper_category"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"技能字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"service_category"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.service_category,callback:function(t){e.$set(e.workConfigForm,"service_category",t)},expression:"workConfigForm.service_category"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"可服务人群字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"service_crowd"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.service_crowd,callback:function(t){e.$set(e.workConfigForm,"service_crowd",t)},expression:"workConfigForm.service_crowd"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"服务类型字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"service_type"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.service_type,callback:function(t){e.$set(e.workConfigForm,"service_type",t)},expression:"workConfigForm.service_type"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"信息来源字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"source"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.source,callback:function(t){e.$set(e.workConfigForm,"source",t)},expression:"workConfigForm.source"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"工龄字段",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"working_age"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.working_age,callback:function(t){e.$set(e.workConfigForm,"working_age",t)},expression:"workConfigForm.working_age"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"服务区域",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"service_region"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.service_region,callback:function(t){e.$set(e.workConfigForm,"service_region",t)},expression:"workConfigForm.service_region"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"接单状态",prop:"source",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"working_status"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.working_status,callback:function(t){e.$set(e.workConfigForm,"working_status",t)},expression:"workConfigForm.working_status"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item-size",attrs:{label:"民族",prop:"nation",size:"small"}},[r("config-tag-component",{attrs:{tableConfig:"nation"},on:{reload:e.getWorkFormConfig},model:{value:e.workConfigForm.nation,callback:function(t){e.$set(e.workConfigForm,"nation",t)},expression:"workConfigForm.nation"}})],1)],1)],1)},staticRenderFns:[]};var Ot=a("VU/8")(It,Ft,!1,function(e){a("KJrc")},"data-v-4451c33e",null).exports,$t=function(e){var t={},r={pageNumber:e.pageNumber,page:e.currentPage,get_for:e.get_for};return e.searchSelect.length&&e.searchSelect.forEach(function(e,r){t[e.key]=e[e.key]}),u.a.post("./admin/staff/getStaffList",h()({},t,r))},Et=function(e){var t="./admin/staff/getStaff";return e&&(t+="?id="+e),u.a.get(t)},Pt=function(e){return e=h()({},e),u.a.post("./admin/staff/editStaff",e)},Yt=function(e,t){return u.a.post("./admin/staff/checkStaffName",{name:t,id:e})},Ut=function(e,t){return u.a.post("./admin/staff/changeStaffStatus",{version:t,id:e})},qt=function(e){return e?u.a.get("./admin/common/getLabelTree?type="+e):u.a.get("./admin/common/getLabelTree")},Vt=function(e){return e?u.a.get("./admin/common/getPaperSelection?type="+e):u.a.get("./admin/common/getPaperSelection")},Qt=function(e){return e?u.a.get("./admin/common/getServiceTree?type="+e):u.a.get("./admin/common/getServiceTree")},Rt=function(){return u.a.get("./admin/common/getAreaTree")},Bt=function(){return u.a.get("./admin/formConfig/getFormConfig")},Zt=function(e){return u.a.post("./admin/formConfig/editFormConfig",B()({},e))},Gt=function(e){var t="./admin/service/getCategoryList?pageNumber="+e.pageNumber+"&page="+e.currentPage;return e.searchSelect.length&&e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),u.a.get(t)},Wt=function(e){return u.a.get("./admin/service/getCategory?id="+e)},Ht=function(e){return e=h()({},e),u.a.post("./admin/service/editCategory",e)},Jt=function(e){var t="./admin/ability/getAbilityList?pageNumber="+e.pageNumber+"&page="+e.currentPage;return e.searchSelect.length&&e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),u.a.get(t)},Kt=function(e){return u.a.get("./admin/ability/getAbility?id="+e)},Xt=function(e){return e=h()({},e),u.a.post("./admin/ability/editAbility",e)},er=function(e){var t="./admin/paper/getPaperList?pageNumber="+e.pageNumber+"&page="+e.currentPage;return e.searchSelect.length&&e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),u.a.get(t)},tr=function(e){return u.a.get("./admin/paper/getPaper?id="+e)},rr=function(e){return e=h()({},e),u.a.post("./admin/paper/editPaper",e)},ar={getStaffList:function(e){return $t(e)},getStaff:function(e){return Et(e)},editStaff:function(e){return Pt(e)},checkStaffName:function(e,t){return Yt(e,t)},changeStaffStatus:function(e,t){return Ut(e,t)},getAbilityTree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return qt(e)},getPaperSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Vt(e)},getSkillTree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Qt(e)},getAreaTree:function(){return Rt()},getFormConfig:function(){return Bt()},editFormConfig:function(e){return Zt(e)},getCategoryList:function(e){return Gt(e)},getCategory:function(e){return Wt(e)},editCategory:function(e){return Ht(e)},getAbilityList:function(e){return Jt(e)},getAbility:function(e){return Kt(e)},editAbility:function(e){return Xt(e)},getPaperList:function(e){return er(e)},getPaper:function(e){return tr(e)},editPaper:function(e){return rr(e)}},nr={data:function(){return{abilityTable:[],abilitySearch:{name:"",type:""},pagination:{total:0,currentPage:1,pageNumber:10},treelist:[],defaultProps:{children:"children",label:"name"}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.abilitySearch).forEach(function(r,a){if(""!=t.abilitySearch[r]){var n={};n[r]=t.abilitySearch[r],n=B()({},n,{key:r}),e.push(n)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,at.a.all([ar.getAbilityList(r),ar.getAbilityTree()]).then(function(t){"0"==t[0].code&&(e.abilityTable=t[0].data.data,e.pagination.currentPage=t[0].data.current_page,e.pagination.total=t[0].data.total),"0"==t[1].code&&(e.treelist=t[1].data)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchAbility:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetAbility:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.abilitySearch.name="",e.abilitySearch.type="",t.next=4,e.getTableList();case 4:case"end":return t.stop()}},t,e)}))()},createAbility:function(){this.$router.push({path:"/serviceType/abilityConfig",query:{type:0}})},editAbility:function(e,t){this.$router.push({path:"/serviceType/abilityConfig",query:{type:1,id:t.id}})},formatterType:function(e,t){return"enable"==e.type?"启用":"disable"==e.type?"未启用":void 0}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},ir={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ability"},[r("div",{staticClass:"ability-table-box"},[r("el-form",{staticClass:"ability-form",attrs:{inline:!0,model:e.abilitySearch}},[r("div",{staticClass:"search"},[r("el-form-item",{attrs:{label:"是否启用"}},[r("el-select",{attrs:{placeholder:"请选择是否启用"},model:{value:e.abilitySearch.type,callback:function(t){e.$set(e.abilitySearch,"type",t)},expression:"abilitySearch.type"}},[r("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),r("el-option",{attrs:{label:"已启用",value:"enable"}}),e._v(" "),r("el-option",{attrs:{label:"未启用",value:"disable"}})],1)],1),e._v(" "),r("el-form-item",[r("el-input",{attrs:{maxlength:30,placeholder:"请输入能力标签名称"},model:{value:e.abilitySearch.name,callback:function(t){e.$set(e.abilitySearch,"name",t)},expression:"abilitySearch.name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchAbility}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetAbility}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createAbility}},[e._v("添加能力标签")])],1)],1),e._v(" "),r("el-table",{staticClass:"ability-table",attrs:{data:e.abilityTable}},[r("el-table-column",{attrs:{label:"技能编号",prop:"id",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"技能名称",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",prop:"type",formatter:e.formatterType,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editAbility(t.$index,t.row)}}},[e._v("配置")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1),e._v(" "),r("div",{staticClass:"ability-tree-box"},[r("div",{staticClass:"title"},[e._v("索引")]),e._v(" "),r("el-tree",{attrs:{data:e.treelist,accordion:"",props:e.defaultProps}})],1)])},staticRenderFns:[]};a("VU/8")(nr,ir,!1,function(e){a("dQq2")},"data-v-41f39f29",null).exports;var sr={data:function(){return{abilityForm:{id:0,name:"",parent_id:0,version:0,type:!0},selectionList:[],abilityRules:{name:[{validator:function(e,t,r){""===t?r(new Error("请输入证书类型名")):(/^[\u4e00-\u9fa5]+$/.test(t)||r(new Error("只能输入汉字")),r())},trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){var a,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=B()({},t.abilityForm),n=t.abilityForm.type,a.type=n?"enable":"disable",r.next=5,t.$refs[e].validate(function(e){if(!e)return!1;ar.editAbility(a).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"修改成功"}),t.$router.push("/serviceType/abilityList"))}).catch(function(e){t.$message({type:"error",message:e.message})})});case 5:case"end":return r.stop()}},r,t)}))()},goback:function(){this.$router.push("/serviceType/abilityList")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),r=e.$route.query.id?e.$route.query.id:0,t.next=4,ar.getAbility(r).then(function(t){if(1==e.$route.query.type){var r={type:!0};"disable"==t.data.ability.type&&(r.type=!1),e.abilityForm=B()({},t.data.ability,r)}e.selectionList=t.data.selection}).catch(function(t){e.$message({type:"error",message:t.message})});case 4:store.commit("setLoading",!1);case 5:case"end":return t.stop()}},t,e)}))()}},or={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ability-config"},[r("el-form",{ref:"form",staticClass:"ability-form",attrs:{rules:e.abilityRules,model:e.abilityForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[r("el-input",{attrs:{maxlength:30,placeholder:"请输入标签名"},model:{value:e.abilityForm.name,callback:function(t){e.$set(e.abilityForm,"name",t)},expression:"abilityForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"标签所属层级"}},[r("el-select",{attrs:{placeholder:"标签父级id"},model:{value:e.abilityForm.parent_id,callback:function(t){e.$set(e.abilityForm,"parent_id",t)},expression:"abilityForm.parent_id"}},e._l(e.selectionList,function(e,t){return r("el-option",{key:t,attrs:{label:e.names,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用"}},[r("el-switch",{model:{value:e.abilityForm.type,callback:function(t){e.$set(e.abilityForm,"type",t)},expression:"abilityForm.type"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v(e._s(e.$route.query.id?"确认编辑":"立即创建"))]),e._v(" "),r("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(sr,or,!1,function(e){a("Qvn+")},"data-v-bf04a54e",null).exports;var cr={data:function(){return{skillTable:[],skillSearch:{name:"",type:""},pagination:{total:0,currentPage:1,pageNumber:10},treelist:[],defaultProps:{children:"children",label:"name"}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.skillSearch).forEach(function(r,a){if(""!=t.skillSearch[r]){var n={};n[r]=t.skillSearch[r],n=B()({},n,{key:r}),e.push(n)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,searchSelect:e.searchArray},store.commit("setLoading",1),t.prev=2,t.next=5,at.a.all([ar.getCategoryList(r),ar.getSkillTree()]).then(function(t){"0"==t[0].code&&(e.skillTable=t[0].data.data,e.pagination.currentPage=t[0].data.current_page,e.pagination.total=t[0].data.total),"0"==t[1].code&&(e.treelist=t[1].data)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchSkill:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetSkill:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.skillSearch.name="",e.skillSearch.type="",t.next=4,e.getTableList();case 4:case"end":return t.stop()}},t,e)}))()},createSkill:function(){this.$router.push({path:"/serviceType/skillConfig",query:{type:0}})},editSkill:function(e,t){this.$router.push({path:"/serviceType/skillConfig",query:{type:1,id:t.id}})},formatterType:function(e,t){return"enable"==e.type?"启用":"disable"==e.type?"未启用":void 0}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},lr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"skill"},[r("div",{staticClass:"skill-table-box"},[r("el-form",{staticClass:"skill-form",attrs:{inline:!0,model:e.skillSearch}},[r("div",[r("el-form-item",{attrs:{label:"是否启用"}},[r("el-select",{attrs:{placeholder:"请选择是否启用"},model:{value:e.skillSearch.type,callback:function(t){e.$set(e.skillSearch,"type",t)},expression:"skillSearch.type"}},[r("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),r("el-option",{attrs:{label:"已启用",value:"enable"}}),e._v(" "),r("el-option",{attrs:{label:"未启用",value:"disable"}})],1)],1),e._v(" "),r("el-form-item",[r("el-input",{attrs:{maxlength:20,placeholder:"请输入技能名称"},model:{value:e.skillSearch.name,callback:function(t){e.$set(e.skillSearch,"name",t)},expression:"skillSearch.name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchSkill}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetSkill}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createSkill}},[e._v("添加技能")])],1)],1),e._v(" "),r("el-table",{staticClass:"skill-table",attrs:{data:e.skillTable}},[r("el-table-column",{attrs:{label:"技能编号",prop:"id",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"技能名称",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",prop:"type",align:"center",formatter:e.formatterType}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editSkill(t.$index,t.row)}}},[e._v("配置")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1),e._v(" "),r("div",{staticClass:"skill-tree-box"},[r("div",{staticClass:"title"},[e._v("索引")]),e._v(" "),r("el-tree",{attrs:{data:e.treelist,accordion:"",props:e.defaultProps}})],1)])},staticRenderFns:[]};a("VU/8")(cr,lr,!1,function(e){a("jvyR")},"data-v-415c4c56",null).exports;var ur={data:function(){return{skillForm:{id:0,name:"",parent_id:0,version:0,type:!0},selectionList:[],skillRules:{name:[{validator:function(e,t,r){""===t?r(new Error("请输入技能名称")):(/^[\u4e00-\u9fa5]+$/.test(t)||r(new Error("只能输入汉字")),r())},trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){var a,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=B()({},t.skillForm),n=t.skillForm.type,a.type=n?"enable":"disable",r.next=5,t.$refs[e].validate(function(e){if(!e)return!1;ar.editCategory(a).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"修改成功"}),t.$router.push("/serviceType/skillList"))}).catch(function(e){t.$message({type:"error",message:e.message})})});case 5:case"end":return r.stop()}},r,t)}))()},goback:function(){this.$router.push("/serviceType/skillList")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$route.query.id?e.$route.query.id:0,store.commit("setLoading",!0),t.prev=2,t.next=5,ar.getCategory(r).then(function(t){if(1==e.$route.query.type){var r={type:!0};"disable"==t.data.category.type&&(r.type=!1),e.skillForm=B()({},t.data.category,r)}e.selectionList=t.data.selection}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()}},mr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"skill-config"},[r("el-form",{ref:"form",staticClass:"skill-form",attrs:{rules:e.skillRules,model:e.skillForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"技能名称",prop:"name"}},[r("el-input",{attrs:{maxlength:30,placeholder:"请输入技能名称"},model:{value:e.skillForm.name,callback:function(t){e.$set(e.skillForm,"name",t)},expression:"skillForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上级技能"}},[r("el-select",{model:{value:e.skillForm.parent_id,callback:function(t){e.$set(e.skillForm,"parent_id",t)},expression:"skillForm.parent_id"}},e._l(e.selectionList,function(e,t){return r("el-option",{key:t,attrs:{label:e.names,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用"}},[r("el-switch",{model:{value:e.skillForm.type,callback:function(t){e.$set(e.skillForm,"type",t)},expression:"skillForm.type"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v(e._s(e.$route.query.id?"确认编辑":"立即创建"))]),e._v(" "),r("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(ur,mr,!1,function(e){a("grTP")},"data-v-674e3999",null).exports;var dr={data:function(){return{paperTable:[],paperSearch:{name:"",type:""},pagination:{total:0,currentPage:1,pageNumber:10}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.paperSearch).forEach(function(r,a){if(""!=t.paperSearch[r]){var n={};n[r]=t.paperSearch[r],n=B()({},n,{key:r}),e.push(n)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,ar.getPaperList(r).then(function(t){"0"==t.code&&(e.paperTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchPaper:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetPaper:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.paperSearch.name="",e.paperSearch.type="",t.next=4,e.getTableList();case 4:case"end":return t.stop()}},t,e)}))()},createPaper:function(){this.$router.push({path:"/serviceType/paperConfig",query:{type:0}})},editPaper:function(e,t){this.$router.push({path:"/serviceType/paperConfig",query:{type:1,id:t.id}})},formatterType:function(e,t){return"enable"==e.type?"启用":"disable"==e.type?"未启用":void 0}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},pr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"paper"},[r("el-form",{staticClass:"paper-form",attrs:{inline:!0,model:e.paperSearch}},[r("div",[r("el-form-item",{attrs:{label:"是否启用"}},[r("el-select",{attrs:{placeholder:"请选择是否启用"},model:{value:e.paperSearch.type,callback:function(t){e.$set(e.paperSearch,"type",t)},expression:"paperSearch.type"}},[r("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),r("el-option",{attrs:{label:"已启用",value:"enable"}}),e._v(" "),r("el-option",{attrs:{label:"未启用",value:"disable"}})],1)],1),e._v(" "),r("el-form-item",[r("el-input",{attrs:{maxlength:30,placeholder:"请输入证书名称"},model:{value:e.paperSearch.name,callback:function(t){e.$set(e.paperSearch,"name",t)},expression:"paperSearch.name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchPaper}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetPaper}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createPaper}},[e._v("添加证书")])],1)],1),e._v(" "),r("el-table",{staticClass:"paper-table",attrs:{data:e.paperTable}},[r("el-table-column",{attrs:{label:"证书编号",prop:"id",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"证书名称",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",prop:"type",formatter:e.formatterType,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editPaper(t.$index,t.row)}}},[e._v("配置")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)},staticRenderFns:[]};a("VU/8")(dr,pr,!1,function(e){a("La5e")},"data-v-fb919ab4",null).exports;var gr={data:function(){return{paperForm:{id:0,name:"",parent_id:0,version:0,type:!0},paperRules:{name:[{validator:function(e,t,r){""===t?r(new Error("请输入证书类型名")):(/^[\u4e00-\u9fa5]+$/.test(t)||r(new Error("只能输入汉字")),r())},trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){var a,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=B()({},t.paperForm),n=t.paperForm.type,a.type=n?"enable":"disable",r.next=5,t.$refs[e].validate(function(e){if(!e)return!1;ar.editPaper(a).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"修改成功"}),t.$router.push("/serviceType/paperList"))}).catch(function(e){t.$message({type:"error",message:e.message})})});case 5:case"end":return r.stop()}},r,t)}))()},goback:function(){this.$router.push("/serviceType/paperList")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(store.commit("setLoading",!0),!(r=e.$route.query.id?e.$route.query.id:0)){t.next=5;break}return t.next=5,ar.getPaper(r).then(function(t){if(1==e.$route.query.type){var r={type:!0};"disable"==t.data.type&&(r.type=!1),e.paperForm=B()({},t.data,r)}e.selectionList=t.data.selection}).catch(function(t){e.$message({type:"error",message:t.message})});case 5:store.commit("setLoading",!1);case 6:case"end":return t.stop()}},t,e)}))()}},fr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"paper-config"},[r("el-form",{ref:"form",staticClass:"paper-form",attrs:{rules:e.paperRules,model:e.paperForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"证书名称",prop:"name"}},[r("el-input",{attrs:{maxlength:30,placeholder:"请输入证书名称"},model:{value:e.paperForm.name,callback:function(t){e.$set(e.paperForm,"name",t)},expression:"paperForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用"}},[r("el-switch",{model:{value:e.paperForm.type,callback:function(t){e.$set(e.paperForm,"type",t)},expression:"paperForm.type"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v(e._s(e.$route.query.id?"确认编辑":"立即创建"))]),e._v(" "),r("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};a("VU/8")(gr,fr,!1,function(e){a("ZtPZ")},"data-v-2fab68f0",null).exports;var hr={components:{cascaderComponent:Le},data:function(){return{orderTable:[],orderSearch:{code:"",phone:"",service_category_id:0,source:0,type:0},pagination:{total:0,currentPage:1,pageNumber:10},setProps:{label:"name",value:"id"}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.orderSearch).forEach(function(r,a){if(""!=t.orderSearch[r]){var n={};n[r]=t.orderSearch[r],n=B()({},n,{key:r}),e.push(n)}}),e},order_type:function(){return this.$store.state.orderModule.order_type},order_source:function(){return this.$store.state.orderModule.order_source}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,purpose:"deal",searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,Pa.getOrderList(r).then(function(t){"0"==t.code&&(e.orderTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchOrder:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetOrder:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.orderSearch.code="",e.orderSearch.phone="",e.orderSearch.service_category_id=0,e.orderSearch.source=0,e.orderSearch.type=0,t.next=7,e.getTableList();case 7:case"end":return t.stop()}},t,e)}))()},createOrder:function(){this.$router.push({path:"/sale/orderEdit"})},configOrder:function(e,t){this.$router.push({path:"/sale/orderConfig",query:{type:1,order_id:t.order_id?t.order_id:"2"}})},formatterType:function(e,t){return this.order_type.find(function(t,r){return e.type==t.value}).label},formatterSource:function(e,t){return this.order_source.find(function(t,r){return e.source==t.value}).label},formatterCreated_at:function(e,t){return Va.formatDate(new Date(1e3*e.created_at),"yyyy-MM-dd hh:mm:ss")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},vr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order"},[r("div",{staticClass:"order-match-box"},[r("el-form",{staticClass:"order-form",attrs:{inline:!0,model:e.orderSearch}},[r("div",{staticClass:"search-input-box"},[r("div",[r("el-form-item",{staticClass:"order-select",attrs:{label:"订单号"}},[r("el-input",{attrs:{maxlength:20,placeholder:"请输入订单号"},model:{value:e.orderSearch.code,callback:function(t){e.$set(e.orderSearch,"code",t)},expression:"orderSearch.code"}})],1),e._v(" "),r("el-form-item",{staticClass:"order-select",attrs:{label:"手机号"}},[r("el-input",{attrs:{maxlength:11,placeholder:"请输入手机号"},model:{value:e.orderSearch.phone,callback:function(t){e.$set(e.orderSearch,"phone",t)},expression:"orderSearch.phone"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchOrder}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetOrder}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createOrder}},[e._v("创建订单")])],1)],1),e._v(" "),r("div",{staticClass:"search-select-box"},[r("el-form-item",{attrs:{label:"技能分类"}},[r("cascader-component",{attrs:{cascaderName:"技能分类",modelType:"int",setProps:e.setProps,requestUrl:"./admin/common/getServiceTree"},model:{value:e.orderSearch.service_category_id,callback:function(t){e.$set(e.orderSearch,"service_category_id",t)},expression:"orderSearch.service_category_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单类型"}},[r("el-select",{attrs:{placeholder:"订单类型"},model:{value:e.orderSearch.type,callback:function(t){e.$set(e.orderSearch,"type",t)},expression:"orderSearch.type"}},e._l(e.order_type,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"订单来源"}},[r("el-select",{attrs:{placeholder:"订单来源"},model:{value:e.orderSearch.source,callback:function(t){e.$set(e.orderSearch,"source",t)},expression:"orderSearch.source"}},e._l(e.order_source,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1)])],1),e._v(" "),r("el-table",{staticClass:"order-table",attrs:{data:e.orderTable}},[r("el-table-column",{attrs:{label:"订单号",prop:"code",align:"center",width:"170px"}}),e._v(" "),r("el-table-column",{attrs:{label:"手机号",prop:"phone",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"订单状态",prop:"type",formatter:e.formatterType,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"订单来源",prop:"source",formatter:e.formatterSource,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"created_at",formatter:e.formatterCreated_at,align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"服务类型",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.configOrder(t.$index,t.row)}}},[e._v("处理订单")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)},staticRenderFns:[]};var yr=a("VU/8")(hr,vr,!1,function(e){a("ZdBq")},"data-v-121414ca",null).exports,_r={data:function(){return{orderKeyName:{manager_name:"创建人",user_name:"客户名",phone:"客户手机号",name:"服务名称",service_address:"服务地址",service_start_time:"服务开始时间",service_end_time:"服务终止时间",source:"订单来源",remark:"备注信息",create_manager_name:"创建人",hold_manager_name:"拥有人",sign_manager_name:"签约人",code:"订单号"},isShow:!0}},computed:{baseList:function(){var e=this.orderKeyName,t=this.$store.state.orderModule.order,r=[];return y()(t).forEach(function(a,n){if(e.hasOwnProperty(a)){var i={key:e[a],value:t[a]},s=i.value,o={value:""};"source"==a&&(1==s?o.value="线下":2==s?o.value="线上":3==s&&(o.value="渠道"),i=B()({},i,o)),"service_start_time"!=a&&"service_end_time"!=a||(o.value=Va.formatDate(new Date(1e3*s),"yyyy-MM-dd hh:mm:ss"),i=B()({},i,o)),r.push(i)}}),r=r.map(function(e,t){return Va.getByteLen(e.value)>20?B()({},e,{size:1}):B()({},e,{size:2})})}},methods:{changeFormState:function(){this.isShow=!this.isShow}}},br={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("h3",[e._v("订单基本信息")]),e._v(" "),r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"text",icon:e.isShow?"el-icon-arrow-up":"el-icon-arrow-down",circle:"",size:"small"},on:{click:e.changeFormState}},[e._v(e._s(e.isShow?"收起":"展开"))])],1)]),e._v(" "),r("div",{staticClass:"base-form-box"},[e.isShow?r("div",{staticClass:"base-message-box"},[e.baseList.length?r("div",e._l(e.baseList,function(t,a){return r("div",{key:a,staticClass:"base-line",style:{width:1==t.size?"100%":"50%",marginBottom:a==e.baseList.length-1?"20px":"0"}},[t.key?r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v(e._s(t.key+"："))]),e._v(" "),t.value?r("div",{staticClass:"base-value"},[e._v(e._s(t.value))]):r("div",{staticClass:"base-value",staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])]):r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"}),e._v(" "),r("div",{staticClass:"base-value"})])])}),0):r("div",[e._v(" 暂无内容")])]):e._e()])])},staticRenderFns:[]};var Mr=a("VU/8")(_r,br,!1,function(e){a("zwvc")},"data-v-edfe2db0",null).exports,kr={components:{pictureDetailDialog:De},data:function(){return{isShow:!0,openPictureDetailDialog:!1,imageUrl:""}},computed:{fileList:function(){return this.$store.state.orderModule.order_files}},methods:{changeLogState:function(){this.isShow=!this.isShow},showDetialPic:function(e){this.imageUrl="./resource/"+e,this.openPictureDetailDialog=!0}}},wr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("h3",[e._v("合同详情")]),e._v(" "),r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"text",icon:e.isShow?"el-icon-arrow-up":"el-icon-arrow-down",circle:"",size:"small"},on:{click:e.changeLogState}},[e._v(e._s(e.isShow?"收起":"展开"))])],1)]),e._v(" "),e.isShow?r("div",[r("el-row",e._l(e.fileList,function(t,a){return r("el-col",{key:a,staticStyle:{padding:"0 10px"},attrs:{span:6}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{staticClass:"file-image",attrs:{src:"./resource/"+t.path}}),e._v(" "),r("div",{staticClass:"bottom"},[r("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(r){e.showDetialPic(t.path)}}},[e._v("查看大图")])],1)])],1)}),1)],1):e._e(),e._v(" "),r("picture-detail-dialog",{attrs:{imageUrl:e.imageUrl,title:"合同详情",openPictureDetailDialog:e.openPictureDetailDialog},on:{closePictureDetailDialog:function(t){e.openPictureDetailDialog=!1}}})],1)},staticRenderFns:[]};var xr=a("VU/8")(kr,wr,!1,function(e){a("Akuv")},"data-v-665cba53",null).exports,Nr={props:{openLogDialog:{type:Boolean,default:!1},staffId:{type:Number,default:0},order_staff_id:{type:Number,default:0},staffName:{type:String,default:""},logDialogTitle:{type:String,default:"添加日志"},logType:{type:String,default:"normal"}},data:function(){return{logForm:{order_id:this.$route.query.order_id,order_staff_id:this.order_staff_id,staff_name:this.staffName,staff_id:this.staffId,message:""},logRules:{message:[{validator:function(e,t,r){""===t?r(new Error("请填写日志信息")):r()},trigger:"blur"}]}}},methods:{commitLog:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.$refs[e].validate(function(){var e=o()(i.a.mark(function e(r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=10;break}return store.commit("setLoading",!0),e.next=4,Pa.logCommit(t.logForm,t.logType).then(function(e){"0"==e.code&&t.$message({type:"success",message:e.message})}).catch(function(e){t.$message({type:"error",message:e.message})});case 4:return e.next=6,Pa.getOrder(t.$route.query.order_id);case 6:store.commit("setLoading",!1),t.$emit("closeLogDialog"),e.next=11;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return r.stop()}},r,t)}))()},closeLogDialog:function(){this.$emit("closeLogDialog")}}},zr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.logDialogTitle,visible:e.openLogDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.openLogDialog=t}}},[r("el-form",{ref:"logForm",attrs:{model:e.logForm,"label-width":"120px",rules:e.logRules}},["refuse"==e.logType?r("el-form-item",{attrs:{label:"服务人员姓名"}},[r("el-input",{attrs:{disabled:""},model:{value:e.logForm.staff_name,callback:function(t){e.$set(e.logForm,"staff_name",t)},expression:"logForm.staff_name"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"日志信息",prop:"message"}},[r("el-input",{attrs:{placeholder:"请最多输入200字符",maxlength:100,autosize:"",type:"textarea"},model:{value:e.logForm.message,callback:function(t){e.$set(e.logForm,"message",t)},expression:"logForm.message"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeLogDialog}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.commitLog("logForm")}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var Lr=a("VU/8")(Nr,zr,!1,function(e){a("4raj")},"data-v-75949164",null).exports,Cr={components:{logDialog:Lr},data:function(){return{isShow:!0,logDialogVisible:!1}},computed:{logList:function(){return this.$store.state.orderModule.order_logs}},methods:{changeLogState:function(){this.isShow=!this.isShow},showLogDialog:function(){this.logDialogVisible=!0},formatDate:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return t},formatterDate:function(e,t){return this.formatDate(new Date(1e3*e.created_at),"yyyy-MM-dd hh:mm:ss")}}},Tr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("h3",[e._v("订单日志")]),e._v(" "),r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"text",size:"small"},on:{click:e.showLogDialog}},[e._v("添加日志")]),e._v(" "),r("el-button",{attrs:{type:"text",icon:e.isShow?"el-icon-arrow-up":"el-icon-arrow-down",circle:"",size:"small"},on:{click:e.changeLogState}},[e._v(e._s(e.isShow?"收起":"展开"))])],1)]),e._v(" "),e.isShow?r("div",{staticClass:"service-box"},[e.logList.length?r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.logList}},[r("el-table-column",{attrs:{prop:"created_at",label:"创建日期",formatter:e.formatterDate,width:"155px",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"staff_name",label:"服务人员",width:"110px",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"manager_name",label:"操作人",width:"110px",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"message",label:"日志事由"}})],1)],1):r("div",[e._v("暂无内容")])]):e._e(),e._v(" "),e.logDialogVisible?r("log-dialog",{attrs:{openLogDialog:e.logDialogVisible,logType:"normal"},on:{closeLogDialog:function(t){e.logDialogVisible=!1}}}):e._e()],1)},staticRenderFns:[]};var Dr=a("VU/8")(Cr,Tr,!1,function(e){a("BBZI")},"data-v-68ae6fff",null).exports,Sr={props:{openDetailDialog:{type:Boolean,default:!1},staffId:{type:Number,default:0}},data:function(){return{staffKeyName:{address:"地址",age:"年龄",name:"姓名",identify:"身份证号",bank_card:"银行卡号",phone:"手机号",sex:"性别",wechat:"微信",education:"教育程度",type:"是否已签约",staff_code:"员工号"},staffDetailList:[],staffDetailForm:{region:[],label:[],skill:[]},isShow:!1,sizeLong:0}},methods:{setList:function(e){var t=this,r=[];y()(e).forEach(function(a,n){if(t.staffKeyName.hasOwnProperty(a)){var i={key:t.staffKeyName[a],value:e[a],size:1},s=i.value;if("sex"==a&&(s=1==e[a]?"男":"女"),"type"==a&&(s="sign"==e[a]?"已签约":"未签约"),"education"==a){var o=t.$store.state.hrModule.educationList.find(function(t,r){return t.id==e[a]});s=0==e[a]?"":o.name}Va.getByteLen(s)>20?i.size=2:i.size=1,i.value=s,r.push(i)}}),this.sizeLong=0;for(var a=0,n=0;n<r.length;n++)if(a+=r[n].size,n<r.length-1){var i=r[n+1];a%2==1&&2==i.size&&(this.sizeLong+=2,r[n].size=2,a+=1),this.sizeLong+=r[n].size}else this.sizeLong+=r[n].size;return this.sizeLong%2==1&&(r.push({key:"",value:"",size:1}),this.sizeLong++),r},selectService:function(){this.$emit("sign",this.staffDetailForm)},cancelDetail:function(){this.$emit("closeDetailDialog")}},mounted:function(){var t=this;return o()(i.a.mark(function r(){var a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.isShow=!0,a=t,r.prev=2,r.next=5,ar.getStaff(t.staffId).then(function(e){"0"==e.code&&(a.staffDetailForm=e.data,a.staffDetailList=a.setList(e.data))}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(function(){t.isShow=!1});case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),t.$message({type:"error",message:e.message});case 10:case"end":return r.stop()}},r,t,[[2,7]])}))()}},jr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.isShow,expression:"isShow"}],attrs:{title:"服务人员详情",visible:e.openDetailDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.openDetailDialog=t}}},[r("div",[e._l(e.staffDetailList,function(t,a){return r("div",{key:a,staticClass:"base-line",style:{width:2==t.size?"100%":"50%"}},[t.key?r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v(e._s(t.key+"："))]),e._v(" "),t.value?r("div",{staticClass:"base-value",style:{color:"是否已签约"==t.key?"#F56C6C":""}},[e._v(e._s(t.value))]):r("div",{staticClass:"base-value",staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])]):r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"}),e._v(" "),r("div",{staticClass:"base-value"})])])}),e._v(" "),r("div",{staticClass:"base-line base-array-line"},[r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v("地区：")]),e._v(" "),e.staffDetailForm.region.length?r("div",{staticClass:"base-value"},e._l(e.staffDetailForm.region,function(t,a){return r("el-tag",{key:a},[e._v(e._s(t.name))])}),1):r("div",{staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])])]),e._v(" "),r("div",{staticClass:"base-line base-array-line"},[r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v("标签：")]),e._v(" "),e.staffDetailForm.label.length?r("div",{staticClass:"base-value"},e._l(e.staffDetailForm.label,function(t,a){return r("el-tag",{key:a,staticStyle:{"margin-right":"10px"}},[e._v(e._s(t.name))])}),1):r("div",{staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])])]),e._v(" "),r("div",{staticClass:"base-line base-array-line"},[r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v("技能：")]),e._v(" "),e.staffDetailForm.skill.length?r("div",{staticClass:"base-value"},e._l(e.staffDetailForm.skill,function(t,a){return r("el-tag",{key:a},[e._v(e._s(t.name))])}),1):r("div",{staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])])])],2),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancelDetail}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.selectService}},[e._v("备选")])],1)])},staticRenderFns:[]};var Ar=a("VU/8")(Sr,jr,!1,function(e){a("AGlE")},"data-v-6bc15608",null).exports,Ir=a("szwq"),Fr=a.n(Ir),Or={components:{staffDetailDialog:Ar,cascaderComponent:Le},data:function(){return{staffSearch:{name:"",staff_code:null,region_ids:[],service_category_id:0,ability_ids:[]},showSearchBox:!1,cascaderOption:{cascaderProps:{label:"name",value:"id"}},staffMatchTable:[],pagination:{total:0,currentPage:1,pageNumber:10},dialogFormVisible:!1,detailStaffId:0,loading:!1,headIcon:Fr.a}},computed:{searchArray:function(){var e=[],t=this;return y()(this.staffSearch).forEach(function(r,a){if(Array.isArray(t.staffSearch[r])){if(t.staffSearch[r].length){var n={};n[r]=[].concat(he()(t.staffSearch[r])),n=B()({},n,{key:r}),e.push(n)}}else if(""!=t.staffSearch[r]){var i={};i[r]=t.staffSearch[r],i=B()({},i,{key:r}),e.push(i)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={searchSelect:e.searchArray,get_for:"order",currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber},e.loading=!0,t.prev=2,t.next=5,ar.getStaffList(r).then(function(t){e.staffMatchTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){e.loading=!1});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},spread:function(){this.showSearchBox=!this.showSearchBox},searchStaff:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},searchReset:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.staffSearch.name="",e.staffSearch.staff_code=null,e.staffSearch.region_ids=[],e.staffSearch.service_category_id=0,e.staffSearch.ability_ids=[],t.next=7,e.getTableList();case 7:case"end":return t.stop()}},t,e)}))()},showDetail:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.dialogFormVisible=!0,t.detailStaffId=e;case 2:case"end":return r.stop()}},r,t)}))()},sureSelect:function(e){var t=this;return o()(i.a.mark(function r(){var a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a=t,t.$confirm("确定匹配该服务人员吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(o()(i.a.mark(function r(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.createOrderStaff(e);case 2:case"end":return t.stop()}},r,t)}))).catch(function(){t.$message({type:"info",message:"已取消匹配"})});case 2:case"end":return r.stop()}},r,t)}))()},createOrderStaff:function(e){var t=this;return o()(i.a.mark(function r(){var a,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=store.state.orderModule.order_staff,!a.some(function(t,r){return t.staff_code==e.staff_code})){r.next=5;break}return t.$message({type:"error",message:"该人员已经匹配"}),r.abrupt("return",!1);case 5:return n={order_id:t.$route.query.order_id,staff_id:e.id,staff_code:e.staff_code,staff_name:e.name},store.commit("setLoading",!0),r.next=9,Pa.createOrderStaff(n).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"匹配成功"}),t.dialogFormVisible=!1)}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa.getOrder(t.$route.query.order_id);case 2:store.commit("setLoading",!1);case 3:case"end":return e.stop()}},e,t)})));case 9:case"end":return r.stop()}},r,t)}))()}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},$r={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"match-box"},[r("el-card",{staticClass:"match-message"},[r("div",{staticClass:"match-search-box",attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"head-input"},[r("div",{staticClass:"head-input-left"},[r("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入员工姓名",maxlength:20},model:{value:e.staffSearch.name,callback:function(t){e.$set(e.staffSearch,"name",t)},expression:"staffSearch.name"}}),e._v(" "),r("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入员工号",maxlength:10},model:{value:e.staffSearch.staff_code,callback:function(t){e.$set(e.staffSearch,"staff_code",t)},expression:"staffSearch.staff_code"}}),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.searchReset}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.searchStaff}},[e._v("搜索")])],1)]),e._v(" "),r("div",{staticClass:"head-cascader"},[r("cascader-component",{attrs:{cascaderName:"服务地区",setProps:e.cascaderOption.cascaderProps,requestUrl:"./admin/common/getAreaTree"},model:{value:e.staffSearch.region_ids,callback:function(t){e.$set(e.staffSearch,"region_ids",t)},expression:"staffSearch.region_ids"}}),e._v(" "),r("cascader-component",{attrs:{cascaderName:"技能分类",modelType:"int",setProps:e.cascaderOption.cascaderProps,requestUrl:"./admin/common/getServiceTree"},model:{value:e.staffSearch.service_category_id,callback:function(t){e.$set(e.staffSearch,"service_category_id",t)},expression:"staffSearch.service_category_id"}}),e._v(" "),r("cascader-component",{attrs:{cascaderName:"能力标签",setProps:e.cascaderOption.cascaderProps,requestUrl:"./admin/common/getLabelTree"},model:{value:e.staffSearch.ability_ids,callback:function(t){e.$set(e.staffSearch,"ability_ids",t)},expression:"staffSearch.ability_ids"}}),e._v(" "),r("div",{staticClass:"spread-icon",attrs:{title:"下拉展开更多搜索项"},on:{click:e.spread}},[e.showSearchBox?r("el-button",{attrs:{icon:"el-icon-arrow-up",type:"text",size:"medium"}},[e._v("收起")]):r("el-button",{attrs:{icon:"el-icon-arrow-down",type:"text",size:"medium"}},[e._v("更多")])],1)],1),e._v(" "),r("transition",{attrs:{name:"el-zoom-in-top"}},[e.showSearchBox?r("div",{staticClass:"head-more-cascader",style:{top:"100px"}}):e._e()])],1),e._v(" "),r("div",{staticClass:"match-content"},[e.staffMatchTable.length?r("div",{staticClass:"match-list"},[e._l(e.staffMatchTable,function(t,a){return r("div",{key:a,staticClass:"match-service-item"},[r("div",{staticClass:"service-pic"},[""!=t.icon?r("img",{staticClass:"head-icon",attrs:{src:"./resource/"+t.icon,alt:""}}):r("img",{staticClass:"head-icon",attrs:{src:e.headIcon,alt:""}})]),e._v(" "),r("div",{staticClass:"service-message"},[r("div",{staticClass:"service-message-line"},[r("p",{staticClass:"label"},[e._v("姓名：")]),e._v(" "),r("p",{staticClass:"value"},[e._v(e._s(t.name))])]),e._v(" "),r("div",{staticClass:"service-message-line"},[r("p",{staticClass:"label"},[e._v("年龄：")]),e._v(" "),r("p",{staticClass:"value"},[e._v(e._s(t.age))])]),e._v(" "),r("div",{staticClass:"service-message-line"},[r("p",{staticClass:"label"},[e._v("地址：")]),e._v(" "),r("p",{staticClass:"value"},[e._v(e._s(t.address))])]),e._v(" "),r("div",{staticClass:"service-message-line"},[r("p",{staticClass:"label"},[e._v("联系方式：")]),e._v(" "),r("p",{staticClass:"value"},[e._v(e._s(t.phone))])]),e._v(" "),r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.sureSelect(t)}}},[e._v("备选")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){e.showDetail(t.id)}}},[e._v("详情")])],1)])])}),e._v(" "),r("el-pagination",{staticStyle:{"margin-top":"30px"},attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],2):r("div",[e._v("暂无数据")])])]),e._v(" "),e.dialogFormVisible?r("staff-detail-dialog",{attrs:{staffId:e.detailStaffId,openDetailDialog:e.dialogFormVisible},on:{sign:e.createOrderStaff,closeDetailDialog:function(t){e.dialogFormVisible=!1}}}):e._e()],1)},staticRenderFns:[]};var Er=a("VU/8")(Or,$r,!1,function(e){a("WIOq")},"data-v-24247258",null).exports,Pr={components:{},props:{openSignDialog:{type:Boolean,default:!1},staffId:{type:Number,default:0},staffName:{type:String,default:""},order_staff_id:{type:Number,default:0}},data:function(){var e=this,t={unit:function(e,t,r){"0"==t?r(new Error("请选择活动区域")):r()},service_count:function(e,t,r){0==t?r(new Error("请输入服务周期")):r()},unit_price:function(e,t,r){t?/^\d+(\.\d+)?$/.test(t)||0==t?r():r(new Error("请输入数字")):r(new Error("请输入单价"))},wage_count:function(t,r,a){2==e.signForm.pay_wage&&0==r?a(new Error("请输入代发工资周期")):a()},wage_price:function(t,r,a){2==e.signForm.pay_wage&&0==r?a(new Error("请输入每期代发金额")):a()},paper:function(e,t,r){0==t.length?r(new Error("请上传合同照片")):r()}};return{signRules:{unit:[{validator:t.unit,trigger:"change"}],service_count:[{validator:t.service_count,trigger:["blur","change"]}],unit_price:[{validator:t.unit_price,trigger:"blur"}],wage_count:[{validator:t.wage_count,trigger:"blur"}],wage_price:[{validator:t.wage_price,trigger:"blur"}],paper:[{validator:t.paper,trigger:"change"}]},signForm:{order_id:this.$route.query.order_id,order_staff_id:this.order_staff_id,staff_id:this.staffId,staff_name:this.staffName,unit:0,service_count:0,paper:[],service_start_time:0,service_end_time:0,unit_price:0,total_price:0,pay_wage:1,wage_count:0,wage_price:0,version:store.state.orderModule.order.version},service_period:[],uploadHeader:{accessToken:this.$store.state.loginModule.token.access_token}}},computed:{total_price:function(){return parseFloat((Number(this.signForm.service_count)*Number(this.signForm.unit_price)).toFixed(10))}},watch:{total_price:function(e){this.signForm.total_price=e}},methods:{changeServicePeriod:function(e){this.signForm.service_start_time=e[0].getTime(),this.signForm.service_end_time=e[1].getTime()},uploadSuccess:function(e,t,r){var a={path:e.data.path,url:"./resource/"+e.data.path,name:e.data.name};this.signForm.paper.push(a),this.signForm.paper.length&&this.$refs.paper.clearValidate()},removePic:function(e,t){var r=this;this.signForm.paper.forEach(function(t,a){t.name==e.name&&r.signForm.paper.splice(a,1)})},signOrder:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.$refs[e].validate(function(){var e=o()(i.a.mark(function e(r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return store.commit("setLoading",!0),e.next=4,Pa.sign(t.signForm).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"签约成功"}),t.$emit("closeSignDialog"))}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa.getOrder(t.$route.query.order_id);case 2:store.commit("setLoading",!1);case 3:case"end":return e.stop()}},e,t)})));case 4:e.next=7;break;case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return r.stop()}},r,t)}))()},closeDialog:function(){this.$emit("closeSignDialog")}}},Yr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"签约",visible:e.openSignDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.openSignDialog=t}}},[r("el-form",{ref:"signForm",attrs:{model:e.signForm,rules:e.signRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"服务周期单位",prop:"unit"}},[r("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.signForm.unit,callback:function(t){e.$set(e.signForm,"unit",t)},expression:"signForm.unit"}},[r("el-option",{attrs:{label:"请选择",value:0}}),e._v(" "),r("el-option",{attrs:{label:"按月",value:"month"}}),e._v(" "),r("el-option",{attrs:{label:"按日",value:"day"}}),e._v(" "),r("el-option",{attrs:{label:"按时",value:"hour"}}),e._v(" "),r("el-option",{attrs:{label:"按次",value:"time"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"服务次数",prop:"service_count"}},[r("el-input-number",{attrs:{type:"number",max:999999},model:{value:e.signForm.service_count,callback:function(t){e.$set(e.signForm,"service_count",e._n(t))},expression:"signForm.service_count"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"服务期间"}},[r("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.changeServicePeriod},model:{value:e.service_period,callback:function(t){e.service_period=t},expression:"service_period"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"单价",prop:"unit_price"}},[r("el-input",{attrs:{maxlength:11,autocomplete:"off"},model:{value:e.signForm.unit_price,callback:function(t){e.$set(e.signForm,"unit_price",t)},expression:"signForm.unit_price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"总价"}},[r("el-input",{attrs:{maxlength:11,autocomplete:"off",disabled:""},model:{value:e.signForm.total_price,callback:function(t){e.$set(e.signForm,"total_price",t)},expression:"signForm.total_price"}})],1),e._v(" "),r("el-form-item",{ref:"paper",attrs:{label:"合同照片",prop:"paper"}},[r("el-upload",{attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",action:"/admin/common/uploadImage","on-success":e.uploadSuccess,"on-remove":e.removePic,"file-list":e.signForm.paper,"list-type":"picture-card",headers:e.uploadHeader}},[r("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),r("el-form-item",{attrs:{label:"是否代发工资"}},[r("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.signForm.pay_wage,callback:function(t){e.$set(e.signForm,"pay_wage",t)},expression:"signForm.pay_wage"}},[r("el-option",{attrs:{label:"是",value:2}}),e._v(" "),r("el-option",{attrs:{label:"否",value:1}})],1)],1),e._v(" "),2==e.signForm.pay_wage?r("el-form-item",{attrs:{label:"代发工资周期",prop:"wage_count"}},[r("el-input-number",{attrs:{max:999999,autocomplete:"off"},model:{value:e.signForm.wage_count,callback:function(t){e.$set(e.signForm,"wage_count",t)},expression:"signForm.wage_count"}})],1):e._e(),e._v(" "),2==e.signForm.pay_wage?r("el-form-item",{attrs:{label:"每期代发金额",prop:"wage_price"}},[r("el-input",{attrs:{maxlength:11,autocomplete:"off"},model:{value:e.signForm.wage_price,callback:function(t){e.$set(e.signForm,"wage_price",t)},expression:"signForm.wage_price"}})],1):e._e()],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.signOrder("signForm")}}},[e._v("签 约")])],1)],1)},staticRenderFns:[]};var Ur={components:{signDialog:a("VU/8")(Pr,Yr,!1,function(e){a("jjuU")},"data-v-1a980917",null).exports,logDialog:Lr},data:function(){return{isShow:!0,signDialogVisible:!1,refuseDialogVisible:!1,selectedStaffId:0,selectedStaffName:"",sign_order_staff_id:0}},computed:{matchList:function(){return store.state.orderModule.order_staff}},methods:{deleteOrderStaff:function(e,t){var r=this;return o()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r.$confirm("确定删除该备选服务人员吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(o()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return store.commit("setLoading",1),a.next=3,Pa.deleteOrderStaff(e,t).then(function(e){"0"==e.code&&r.$message({type:"success",message:"删除成功"})}).catch(function(e){r.$message({type:"error",message:e.message})});case 3:return a.next=5,Pa.getOrder(r.$route.query.order_id);case 5:store.commit("setLoading",!1);case 6:case"end":return a.stop()}},a,r)}))).catch(function(){r.$message({type:"info",message:"已取消删除"})});case 1:case"end":return a.stop()}},a,r)}))()},changeFormState:function(){this.isShow=!this.isShow},showRefusePage:function(e){this.sign_order_staff_id=e.order_staff_id,this.selectedStaffId=e.staff_id,this.selectedStaffName=e.staff_name,this.refuseDialogVisible=!0},showSignPage:function(e){this.sign_order_staff_id=e.order_staff_id,this.selectedStaffId=e.staff_id,this.selectedStaffName=e.staff_name,this.signDialogVisible=!0}}},qr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("h3",[e._v("备选服务人员")]),e._v(" "),r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"text",icon:e.isShow?"el-icon-arrow-up":"el-icon-arrow-down",circle:"",size:"small"},on:{click:e.changeFormState}},[e._v(e._s(e.isShow?"收起":"展开"))])],1)]),e._v(" "),e.isShow?r("div",{staticClass:"service-box"},[e.matchList.length?r("div",[r("el-row",e._l(e.matchList,function(t,a){return r("el-col",{key:a,attrs:{span:6,offset:a%3==0?0:2}},[r("el-card",{style:{marginBottom:a<3?"10px":"0"},attrs:{"body-style":{padding:0}}},[r("div",{staticStyle:{padding:"7px"}},[r("p",[e._v(e._s("姓名："+t.staff_name))]),e._v(" "),r("p",[e._v(e._s("员工号："+t.staff_code))]),e._v(" "),r("div",{staticClass:"bottom clearfix"},[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){e.showSignPage(t)}}},[e._v("签约")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){e.showRefusePage(t)}}},[e._v("拒绝")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){e.deleteOrderStaff(t.order_staff_id,t.order_id)}}},[e._v("删除")])],1)])])],1)}),1)],1):r("div",[e._v("暂无内容")])]):e._e(),e._v(" "),e.signDialogVisible?r("sign-dialog",{attrs:{openSignDialog:e.signDialogVisible,order_staff_id:e.sign_order_staff_id,staffId:e.selectedStaffId,staffName:e.selectedStaffName},on:{closeSignDialog:function(t){e.signDialogVisible=!1}}}):e._e(),e._v(" "),e.refuseDialogVisible?r("log-dialog",{attrs:{openLogDialog:e.refuseDialogVisible,logType:"refuse",order_staff_id:e.sign_order_staff_id,staffId:e.selectedStaffId,staffName:e.selectedStaffName},on:{closeLogDialog:function(t){e.refuseDialogVisible=!1}}}):e._e()],1)},staticRenderFns:[]};var Vr=a("VU/8")(Ur,qr,!1,function(e){a("0L8g")},"data-v-c9b2c196",null).exports,Qr={props:{staffId:{type:Number,default:0}},data:function(){return{staffKeyName:{address:"地址",age:"年龄",name:"姓名",identify:"身份证号",bank_card:"银行卡号",phone:"手机号",sex:"性别",wechat:"微信",education:"教育程度",type:"是否已签约",staff_code:"员工号"},staffDetailList:[],staffDetailForm:{region:[],label:[],skill:[]},isShow:!1,sizeLong:0}},methods:{setList:function(e){var t=this,r=[];y()(e).forEach(function(a,n){if(t.staffKeyName.hasOwnProperty(a)){var i={key:t.staffKeyName[a],value:e[a],size:1},s=i.value;if("sex"==a&&(s=1==e[a]?"男":"女"),"type"==a&&(s="sign"==e[a]?"已签约":"未签约"),"education"==a)s=t.$store.state.hrModule.educationList.find(function(t,r){return t.id==e[a]}).name;Va.getByteLen(s)>20?i.size=2:i.size=1,i.value=s,r.push(i)}}),this.sizeLong=0;for(var a=0,n=0;n<r.length;n++)if(a+=r[n].size,n<r.length-1){var i=r[n+1];a%2==1&&2==i.size&&(this.sizeLong+=2,r[n].size=2,a+=1),this.sizeLong+=r[n].size}else this.sizeLong+=r[n].size;return this.sizeLong%2==1&&(r.push({key:"",value:"",size:1}),this.sizeLong++),r},changeLogState:function(){this.isShow=!this.isShow},selectService:function(){this.$emit("sign",this.staffDetailForm)},cancelDetail:function(){this.$emit("closeDetailDialog")}},mounted:function(){var t=this;return o()(i.a.mark(function r(){var a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t,r.prev=1,r.next=4,ar.getStaff(t.staffId).then(function(e){"0"==e.code&&(a.staffDetailForm=e.data,a.staffDetailList=a.setList(e.data))}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(function(){});case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),t.$message({type:"error",message:e.message});case 9:case"end":return r.stop()}},r,t,[[1,6]])}))()}},Rr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[r("h3",[e._v("服务人员详情")]),e._v(" "),r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"text",icon:e.isShow?"el-icon-arrow-up":"el-icon-arrow-down",circle:"",size:"small"},on:{click:e.changeLogState}},[e._v(e._s(e.isShow?"收起":"展开"))])],1)]),e._v(" "),e.isShow?r("div",[e._l(e.staffDetailList,function(t,a){return r("div",{key:a,staticClass:"base-line",style:{width:2==t.size?"100%":"50%"}},[t.key?r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v(e._s(t.key+"："))]),e._v(" "),t.value?r("div",{staticClass:"base-value",style:{color:"是否已签约"==t.key?"#F56C6C":""}},[e._v(e._s(t.value))]):r("div",{staticClass:"base-value",staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])]):r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"}),e._v(" "),r("div",{staticClass:"base-value"})])])}),e._v(" "),r("div",{staticClass:"base-line base-array-line"},[r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v("地区：")]),e._v(" "),e.staffDetailForm.region.length?r("div",{staticClass:"base-value"},e._l(e.staffDetailForm.region,function(t,a){return r("el-tag",{key:a},[e._v(e._s(t.name))])}),1):r("div",{staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])])]),e._v(" "),r("div",{staticClass:"base-line base-array-line"},[r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v("标签：")]),e._v(" "),e.staffDetailForm.label.length?r("div",{staticClass:"base-value"},e._l(e.staffDetailForm.label,function(t,a){return r("el-tag",{key:a,staticStyle:{"margin-right":"10px"}},[e._v(e._s(t.name))])}),1):r("div",{staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])])]),e._v(" "),r("div",{staticClass:"base-line base-array-line"},[r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v("技能：")]),e._v(" "),e.staffDetailForm.skill.length?r("div",{staticClass:"base-value"},e._l(e.staffDetailForm.skill,function(t,a){return r("el-tag",{key:a},[e._v(e._s(t.name))])}),1):r("div",{staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])])])],2):e._e()])},staticRenderFns:[]};var Br={data:function(){return{isSearch:!0,cancelDialogVisible:!1,completeDialogVisible:!1,cancelForm:{order_id:this.$route.query.order_id,message:""},completeForm:{order_id:this.$route.query.order_id,message:""},formLabelWidth:"120px"}},methods:{pullSearch:function(){var e=this.isSearch;this.isSearch=Boolean(!e)},showCancelPage:function(){this.cancelForm=B()({},this.cancelForm,{message:""}),this.cancelDialogVisible=!0},showCompletePage:function(){this.completeForm=B()({},this.completeForm,{message:""}),this.completeDialogVisible=!0},cancelOrder:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.next=3,Pa.cancelOrder(e.cancelForm).then(function(t){"0"==t.code&&(e.$message({type:"success",message:t.message}),e.$router.push("/sale/orderList"))}).catch(function(t){e.$message({type:"error",message:t.message})});case 3:e.cancelDialogVisible=!1,store.commit("setLoading",!1);case 5:case"end":return t.stop()}},t,e)}))()},completeOrder:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.next=3,Pa.completeOrder(e.completeForm).then(function(t){"0"==t.code&&(e.$message({type:"success",message:t.message}),e.$router.push("/sale/orderList"))}).catch(function(t){e.$message({type:"error",message:t.message})});case 3:e.completeDialogVisible=!1,store.commit("setLoading",!1);case 5:case"end":return t.stop()}},t,e)}))()}},computed:{isSigned:function(){return store.state.orderModule.order.type},signStaffId:function(){return this.$store.state.orderModule.order_staff.find(function(e,t){return"sign"==e.type}).staff_id}},components:{baseComponent:Mr,serviceListComponent:Vr,matchBoxComponent:Er,logComponent:Dr,signStaffDetail:a("VU/8")(Qr,Rr,!1,function(e){a("RL80")},"data-v-3c67e366",null).exports,fileCard:xr},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.prev=1,t.next=4,Pa.getOrder(e.$route.query.order_id);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 9:store.commit("setLoading",!1);case 10:case"end":return t.stop()}},t,e,[[1,6]])}))()}},Zr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-box"},[e.isSigned<3?r("div",{staticClass:"order-edit"},[r("div",{staticClass:"order-message-box",style:{width:e.isSearch?"calc(50% - 8px)":"100%"}},[r("div",{staticClass:"order-in-box"},[r("base-component"),e._v(" "),r("service-list-component"),e._v(" "),r("log-component")],1),e._v(" "),r("div",{staticClass:"order-pull",style:{right:e.isSearch?"-16px":"0px"},on:{click:e.pullSearch}},[e.isSearch?r("i",{staticClass:"el-icon-arrow-right pull-icon"}):r("i",{staticClass:"el-icon-arrow-left pull-icon"})])]),e._v(" "),e.isSearch?r("match-box-component",{style:{width:e.isSearch?"calc(50% - 8px)":0}}):e._e()],1):e._e(),e._v(" "),e.isSigned>=3?r("div",{staticClass:"order-edit"},[r("div",{staticClass:"order-message-box"},[r("div",{staticClass:"order-in-box"},[r("base-component"),e._v(" "),r("log-component"),e._v(" "),r("sign-staff-detail",{attrs:{staffId:e.signStaffId}}),e._v(" "),r("file-card"),e._v(" "),3==e.isSigned?r("div",{staticClass:"control"},[r("el-button",{attrs:{type:"primary"},on:{click:e.showCancelPage}},[e._v("取消订单")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.showCompletePage}},[e._v("订单完成")])],1):e._e()],1)])]):e._e(),e._v(" "),r("el-dialog",{attrs:{title:"取消订单",visible:e.cancelDialogVisible},on:{"update:visible":function(t){e.cancelDialogVisible=t}}},[r("el-form",{attrs:{model:e.cancelForm}},[r("el-form-item",{attrs:{label:"取消原因","label-width":e.formLabelWidth}},[r("el-input",{attrs:{placeholder:"请最多输入200字符",maxlength:100,autosize:"",type:"textarea"},model:{value:e.cancelForm.message,callback:function(t){e.$set(e.cancelForm,"message",t)},expression:"cancelForm.message"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.cancelDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.cancelOrder}},[e._v("确定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"完成订单",visible:e.completeDialogVisible},on:{"update:visible":function(t){e.completeDialogVisible=t}}},[r("el-form",{attrs:{model:e.completeForm}},[r("el-form-item",{attrs:{label:"日志","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autosize:"",type:"textarea",maxlength:100,placeholder:"请最多输入200字符"},model:{value:e.completeForm.message,callback:function(t){e.$set(e.completeForm,"message",t)},expression:"completeForm.message"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.completeDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.completeOrder}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Gr=a("VU/8")(Br,Zr,!1,function(e){a("nJrf")},"data-v-8d470fbe",null).exports,Wr={data:function(){var e={user_name:function(e,t,r){t?/^[a-zA-Z\u4e00-\u9fa5]+$/.test(t)?r():r(new Error("只能是中、英文及其组合")):r(new Error("客户名不能为空"))},phone:function(e,t,r){t?/^1[34578]\d{9}$/.test(t)?r():r(new Error("请输入正确的手机号")):r(new Error("手机号不能为空"))},service_address:function(e,t,r){t?r():r(new Error("服务地址不能为空"))},source:function(e,t,r){"0"==t?r(new Error("请选择订单来源")):r()}};return{orderRules:{user_name:[{validator:e.user_name,trigger:"blur"}],phone:[{validator:e.phone,trigger:"blur"}],source:[{validator:e.source,trigger:"change"}]},orderForm:{manager_id:this.$store.state.loginModule.user.id,manager_name:this.$store.state.loginModule.user.username,user_name:"",phone:"",service_category_id:"",name:"",service_address:"",service_start_time:"",service_end_time:"",source:"0",remark:""},cycleTime:[],region_id:[],areaList:[],skill:[],skillList:[],regionArea_string:[],region_string:"",areaProps:{label:"name",value:"id"}}},methods:{onSubmit:function(e){var t=this;return o()(i.a.mark(function r(){var a,n,s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(a="",n=t.regionArea_string,s=0;s<n.length;s++)a+=n[s];if(t.orderForm.service_address=a+t.region_string,""!=t.orderForm.service_category_id&&""!=t.orderForm.name){r.next=6;break}return t.$message({type:"error",message:"请选择服务类型"}),r.abrupt("return",!1);case 6:if(""!=t.orderForm.service_address&&""!=t.region_string&&0!=n.length){r.next=9;break}return t.$message({type:"error",message:"请填写服务地址"}),r.abrupt("return",!1);case 9:if(""!=t.orderForm.service_start_time&&""!=t.orderForm.service_start_time){r.next=12;break}return t.$message({type:"error",message:"请选择服务起止时间"}),r.abrupt("return",!1);case 12:return r.next=14,t.$refs[e].validate(function(e){if(!e)return!1;Pa.createOrder(t.orderForm).then(function(e){"0"==e.code&&(t.$message({type:"success",message:"修改成功"}),t.$router.push("/sale/orderList"))}).catch(function(e){t.$message({type:"error",message:e.message})})});case 14:case"end":return r.stop()}},r,t)}))()},changeCycleTime:function(e){this.orderForm.service_start_time=e[0].getTime(),this.orderForm.service_end_time=e[1].getTime()},getAreaName:function(){var e=0,t=[],r=this.region_id;!function a(n){n.forEach(function(a,n){a.id==r[e]&&t.push(a.name)}),n.forEach(function(t,n){e<2&&t.id==r[e]&&(e++,a(t.children))})}(this.areaList),this.regionArea_string=t},addSkill:function(e,t){if(0!=e.length){var r=this;!function e(t,a){t.forEach(function(t,n){t.children?e(t.children,a):t.id==a[a.length-1]&&(r.orderForm.service_category_id=t.id,r.orderForm.name=t.name,r.skill=[])})}(this.skillList,e)}else this.$message({type:"error",message:"请选择服务类型"})},handleClose:function(){this.orderForm.service_category_id=""},goback:function(){this.$router.push("/sale/orderList")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return store.commit("setLoading",!0),t.prev=1,t.next=4,at.a.all([ar.getAreaTree(),ar.getSkillTree("enable")]);case 4:r=t.sent,e.areaList=r[0].data,e.skillList=r[1].data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.$message({type:"error",message:t.t0.message});case 12:store.commit("setLoading",!1);case 13:case"end":return t.stop()}},t,e,[[1,9]])}))()}},Hr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-edit"},[r("el-form",{ref:"orderForm",staticClass:"order-edit-form",attrs:{model:e.orderForm,rules:e.orderRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"服务类型",prop:"skill"}},[e.orderForm.service_category_id?r("el-tag",{attrs:{closable:""},on:{close:e.handleClose}},[e._v(e._s(e.orderForm.name))]):e._e(),e._v(" "),""==e.orderForm.service_category_id?r("el-cascader",{attrs:{clearable:"",options:e.skillList,props:e.areaProps,placeholder:"请选择技能"},model:{value:e.skill,callback:function(t){e.skill=t},expression:"skill"}}):e._e(),e._v(" "),""==e.orderForm.service_category_id?r("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(t){e.addSkill(e.skill,"skill")}}}):e._e()],1),e._v(" "),r("el-form-item",{attrs:{label:"客户名称",prop:"user_name"}},[r("el-input",{attrs:{maxlength:20},model:{value:e.orderForm.user_name,callback:function(t){e.$set(e.orderForm,"user_name",t)},expression:"orderForm.user_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"客户联系方式",prop:"phone"}},[r("el-input",{attrs:{maxlength:11},model:{value:e.orderForm.phone,callback:function(t){e.$set(e.orderForm,"phone",t)},expression:"orderForm.phone"}})],1),e._v(" "),r("el-form-item",{staticClass:"area-form",attrs:{label:"服务地址"}},[r("el-cascader",{attrs:{options:e.areaList,props:e.areaProps,clearable:"",placeholder:"省市区"},on:{change:e.getAreaName},model:{value:e.region_id,callback:function(t){e.region_id=t},expression:"region_id"}}),e._v(" "),r("el-input",{attrs:{placeholder:"详细地址",maxlength:180},model:{value:e.region_string,callback:function(t){e.region_string=t},expression:"region_string"}})],1),e._v(" "),r("p",{staticClass:"address-details"},[e._l(e.regionArea_string,function(t,a){return r("span",{key:a},[e._v(e._s(t))])}),e._v(" "),r("span",[e._v(e._s(e.region_string))])],2),e._v(" "),r("el-form-item",{attrs:{label:"服务周期"}},[r("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.changeCycleTime},model:{value:e.cycleTime,callback:function(t){e.cycleTime=t},expression:"cycleTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单来源",prop:"source"}},[r("el-select",{attrs:{placeholder:"订单来源"},model:{value:e.orderForm.source,callback:function(t){e.$set(e.orderForm,"source",t)},expression:"orderForm.source"}},[r("el-option",{attrs:{label:"请选择",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"线上",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"线下",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"渠道",value:"3"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"备注信息"}},[r("el-input",{attrs:{placeholder:"请最多输入200字符",autosize:"",maxlength:100,type:"textarea"},model:{value:e.orderForm.remark,callback:function(t){e.$set(e.orderForm,"remark",t)},expression:"orderForm.remark"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("orderForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Jr=a("VU/8")(Wr,Hr,!1,function(e){a("ZD+s")},"data-v-58ec1c4a",null).exports,Kr={props:{openAssignDialog:{type:Boolean,default:!1},assignOrderId:{type:Number,default:0}},data:function(){return{orderKeyName:{manager_name:"创建人",user_name:"客户名",phone:"客户手机号",name:"服务名称",service_address:"服务地址",service_start_time:"服务开始时间",service_end_time:"服务终止时间",source:"订单来源",remark:"备注信息",create_manager_name:"创建人",hold_manager_name:"拥有人",sign_manager_name:"签约人"},assignOrderForm:{order_id:this.assignOrderId,manager_name:"",manager_id:0},selectionList:[],assignOrderRules:{manager_id:[{validator:function(e,t,r){0==t?r(new Error("请选择销售人员")):r()},trigger:"change"}]},sizeLong:0,baseList:[],loading:!1}},computed:{order_source:function(){return this.$store.state.orderModule.order_source},orderDetail:function(){return this.$store.state.orderModule.order}},methods:{closeDialog:function(){this.$emit("closeAssignDialog")},assignOrder:function(e){var t=this;return o()(i.a.mark(function r(){var a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a=t,t.$refs[e].validate(function(){var e=o()(i.a.mark(function e(r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=15;break}return n=a.selectionList.find(function(e,t){return e.manager_id==a.assignOrderForm.manager_id}),t.assignOrderForm.manager_name=n.manager_name,t.assignOrderForm.version=t.$store.state.orderModule.order.version,e.prev=4,t.loading=!0,e.next=8,Pa.assignOrder(t.assignOrderForm).then(function(e){"0"==e.code&&(t.$message({type:"success",message:e.message}),t.$emit("closeAssignDialog"))}).catch(function(e){t.$message({type:"error",message:e.message})}).finally(function(){t.loading=!1});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),t.$message({type:"error",message:e.t0.message});case 13:e.next=16;break;case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,t,[[4,10]])}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return r.stop()}},r,t)}))()},setList:function(){var e=this,t=this,r=[];y()(t.orderDetail).forEach(function(a,n){if(t.orderKeyName.hasOwnProperty(a)){var i={key:t.orderKeyName[a],value:t.orderDetail[a],size:1},s=i.value;"source"==a&&(s=e.order_source.find(function(e,t){return s==e.value}).label),"service_start_time"!=a&&"service_end_time"!=a||(s=Va.formatDate(new Date(1e3*s),"yyyy-MM-dd hh:mm:ss")),Va.getByteLen(s)>20?i.size=2:i.size=1,i.value=s,r.push(i)}}),this.sizeLong=0;for(var a=0,n=0;n<r.length;n++)if(a+=r[n].size,n<r.length-1){var i=r[n+1];a%2==1&&2==i.size&&(this.sizeLong+=2,r[n].size=2,a+=1),this.sizeLong+=r[n].size}else this.sizeLong+=r[n].size;return this.sizeLong%2==1&&(r.push({key:"",value:"",size:1}),this.sizeLong++),r}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,at.a.all([Pa.getManagerSelection(),Pa.getOrder(e.assignOrderId)]).then(function(t){"0"==t[0].code&&(e.selectionList=t[0].data,e.selectionList.push({manager_name:"请选择",manager_id:0})),e.baseList=e.setList()}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){e.loading=!1});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$message({type:"error",message:t.t0.message});case 9:case"end":return t.stop()}},t,e,[[0,6]])}))()}},Xr={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"分配订单",visible:e.openAssignDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.openAssignDialog=t}}},[r("div",{staticClass:"base-form-box",style:{height:e.sizeLong/2*40+"px"}},e._l(e.baseList,function(t,a){return r("div",{key:a,staticClass:"base-line",style:{width:2==t.size?"100%":"50%",marginBottom:a==e.baseList.length-1?"20px":"0"}},[t.key?r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"},[e._v(e._s(t.key+"："))]),e._v(" "),t.value?r("div",{staticClass:"base-value"},[e._v(e._s(t.value))]):r("div",{staticClass:"base-value",staticStyle:{color:"#F56C6C"}},[e._v("暂无数据")])]):r("div",{staticClass:"base-word"},[r("div",{staticClass:"base-key"}),e._v(" "),r("div",{staticClass:"base-value"})])])}),0),e._v(" "),r("el-form",{ref:"assignOrderForm",staticClass:"assign-form",attrs:{model:e.assignOrderForm,rules:e.assignOrderRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"选择销售人员",prop:"manager_id"}},[r("el-select",{attrs:{placeholder:"销售人员"},model:{value:e.assignOrderForm.manager_id,callback:function(t){e.$set(e.assignOrderForm,"manager_id",t)},expression:"assignOrderForm.manager_id"}},e._l(e.selectionList,function(e,t){return r("el-option",{key:t,attrs:{label:e.manager_name,value:e.manager_id}})}),1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.assignOrder("assignOrderForm")}}},[e._v("分 配")])],1)],1)},staticRenderFns:[]};var ea={components:{cascaderComponent:Le,assignDialog:a("VU/8")(Kr,Xr,!1,function(e){a("YPYv")},"data-v-11daaa19",null).exports},data:function(){return{orderTable:[],orderSearch:{code:"",phone:"",service_category_id:0,source:0,type:0},pagination:{total:0,currentPage:1,pageNumber:10},setProps:{label:"name",value:"id"},assignDialogVisible:!1,assignOrderId:0}},computed:{searchArray:function(){var e=[],t=this;return y()(this.orderSearch).forEach(function(r,a){if(""!=t.orderSearch[r]){var n={};n[r]=t.orderSearch[r],n=B()({},n,{key:r}),e.push(n)}}),e},order_type:function(){return this.$store.state.orderModule.order_type},order_source:function(){return this.$store.state.orderModule.order_source}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,purpose:"assign",searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,Pa.getOrderList(r).then(function(t){"0"==t.code&&(e.orderTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchOrder:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetOrder:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.orderSearch.code="",e.orderSearch.phone="",e.orderSearch.service_category_id=0,e.orderSearch.source=0,e.orderSearch.type=0,t.next=7,e.getTableList();case 7:case"end":return t.stop()}},t,e)}))()},assignOrder:function(e,t){this.assignOrderId=t.order_id,this.assignDialogVisible=!0},formatterType:function(e,t){return this.order_type.find(function(t,r){return e.type==t.value}).label},formatterSource:function(e,t){return this.order_source.find(function(t,r){return e.source==t.value}).label},formatterCreated_at:function(e,t){return Va.formatDate(new Date(1e3*e.created_at),"yyyy-MM-dd hh:mm:ss")}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},ta={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order"},[r("div",{staticClass:"order-match-box"},[r("el-form",{staticClass:"order-form",attrs:{inline:!0,model:e.orderSearch}},[r("div",{staticClass:"search-input-box"},[r("div",[r("el-form-item",{staticClass:"order-select",attrs:{label:"订单号"}},[r("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.orderSearch.code,callback:function(t){e.$set(e.orderSearch,"code",t)},expression:"orderSearch.code"}})],1),e._v(" "),r("el-form-item",{staticClass:"order-select",attrs:{label:"手机号"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.orderSearch.phone,callback:function(t){e.$set(e.orderSearch,"phone",t)},expression:"orderSearch.phone"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchOrder}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetOrder}},[e._v("重置")])],1)],1)]),e._v(" "),r("div",{staticClass:"search-select-box"},[r("el-form-item",{attrs:{label:"技能分类"}},[r("cascader-component",{attrs:{cascaderName:"技能分类",modelType:"int",setProps:e.setProps,requestUrl:"./admin/common/getServiceTree"},model:{value:e.orderSearch.service_category_id,callback:function(t){e.$set(e.orderSearch,"service_category_id",t)},expression:"orderSearch.service_category_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单类型"}},[r("el-select",{attrs:{placeholder:"订单类型"},model:{value:e.orderSearch.type,callback:function(t){e.$set(e.orderSearch,"type",t)},expression:"orderSearch.type"}},e._l(e.order_type,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"订单来源"}},[r("el-select",{attrs:{placeholder:"订单来源"},model:{value:e.orderSearch.source,callback:function(t){e.$set(e.orderSearch,"source",t)},expression:"orderSearch.source"}},e._l(e.order_source,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1)])],1),e._v(" "),r("el-table",{staticClass:"order-table",attrs:{data:e.orderTable}},[r("el-table-column",{attrs:{label:"订单号",prop:"code",align:"center",width:"170px"}}),e._v(" "),r("el-table-column",{attrs:{label:"手机号",prop:"phone",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"订单状态",prop:"type",align:"center",formatter:e.formatterType}}),e._v(" "),r("el-table-column",{attrs:{label:"订单来源",prop:"source",align:"center",formatter:e.formatterSource}}),e._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"created_at",align:"center",formatter:e.formatterCreated_at}}),e._v(" "),r("el-table-column",{attrs:{label:"服务类型",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.assignOrder(t.$index,t.row)}}},[e._v("分配订单")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}}),e._v(" "),e.assignDialogVisible?r("assign-dialog",{attrs:{openAssignDialog:e.assignDialogVisible,assignOrderId:e.assignOrderId},on:{closeAssignDialog:function(t){e.assignDialogVisible=!1}}}):e._e()],1)},staticRenderFns:[]};var ra=a("VU/8")(ea,ta,!1,function(e){a("Yxld")},"data-v-7584bf28",null).exports,aa={data:function(){return{shopTable:[],shopSearch:{name:"",type:0},pagination:{total:0,currentPage:1,pageNumber:10}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.shopSearch).forEach(function(r,a){if(Array.isArray(t.shopSearch[r])){if(t.shopSearch[r].length){var n={};n[r]=[].concat(he()(t.shopSearch[r])),n=B()({},n,{key:r}),e.push(n)}}else if(""!=t.shopSearch[r]){var i={};i[r]=t.shopSearch[r],i=B()({},i,{key:r}),e.push(i)}}),e},departmentList:function(){return this.$store.state.shopModule.departmentList}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,qa.getShopList(r).then(function(t){"0"==t.code&&(e.shopTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchShop:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetShop:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.shopSearch.name="",e.shopSearch.type=0,t.next=4,e.getTableList();case 4:case"end":return t.stop()}},t,e)}))()},createShop:function(){this.$router.push({path:"/shop/createShop",query:{type:0}})},editShop:function(e,t){this.$router.push({path:"/shop/shopItem",query:{type:1,id:t.id}})}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},na={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"shop"},[r("el-form",{staticClass:"shop-form",attrs:{inline:!0,model:e.shopSearch}},[r("div",{staticClass:"search-up"},[r("div",[r("el-form-item",[r("el-input",{attrs:{placeholder:"请输入门店名",maxlength:20},model:{value:e.shopSearch.name,callback:function(t){e.$set(e.shopSearch,"name",t)},expression:"shopSearch.name"}})],1),e._v(" "),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择门店类型"},model:{value:e.shopSearch.type,callback:function(t){e.$set(e.shopSearch,"type",t)},expression:"shopSearch.type"}},[r("el-option",{attrs:{label:"全部",value:0}}),e._v(" "),r("el-option",{attrs:{label:"直营店",value:1}}),e._v(" "),r("el-option",{attrs:{label:"加盟店",value:2}})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchShop}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetShop}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createShop}},[e._v("添加门店")])],1)],1)]),e._v(" "),r("el-table",{staticClass:"shop-table",attrs:{data:e.shopTable}},[r("el-table-column",{attrs:{label:"门店类型",prop:"type",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"门店名",prop:"name",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"门店经理",prop:"manager",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"销售人数",prop:"number",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.editShop(t.$index,t.row)}}},[e._v("编辑员工")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)},staticRenderFns:[]};var ia=a("VU/8")(aa,na,!1,function(e){a("ZGRt")},"data-v-010d62ef",null).exports,sa=a("VU/8")(null,null,!1,null,null,null).exports,oa={components:{cascaderComponent:Le},data:function(){return{requireTable:[],requireSearch:{name:"",region_ids:[],service_category_id:0,ability_ids:[],paper_ids:[]},setProps:{label:"name",value:"id"},pagination:{total:0,currentPage:1,pageNumber:10}}},computed:{searchArray:function(){var e=[],t=this;return y()(this.requireSearch).forEach(function(r,a){if(Array.isArray(t.requireSearch[r])){if(t.requireSearch[r].length){var n={};n[r]=[].concat(he()(t.requireSearch[r])),n=B()({},n,{key:r}),e.push(n)}}else if(""!=t.requireSearch[r]){var i={};i[r]=t.requireSearch[r],i=B()({},i,{key:r}),e.push(i)}}),e}},methods:{getTableList:function(){var e=this;return o()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={currentPage:e.pagination.currentPage,pageNumber:e.pagination.pageNumber,get_for:"require",searchSelect:e.searchArray},store.commit("setLoading",!0),t.prev=2,t.next=5,ar.getStaffList(r).then(function(t){"0"==t.code&&(e.requireTable=t.data.data,e.pagination.currentPage=t.data.current_page,e.pagination.total=t.data.total)}).catch(function(t){e.$message({type:"error",message:t.message})}).finally(function(){store.commit("setLoading",!1)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$message({type:"error",message:t.t0.message});case 10:case"end":return t.stop()}},t,e,[[2,7]])}))()},handleCurrentPage:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.pagination.currentPage=e,r.next=3,t.getTableList();case 3:case"end":return r.stop()}},r,t)}))()},searchRequire:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()},resetRequire:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.requireSearch.name="",e.requireSearch.region_ids=[],e.requireSearch.service_category_id=0,e.requireSearch.ability_ids=[],e.requireSearch.paper_ids=[],t.next=7,e.getTableList();case 7:case"end":return t.stop()}},t,e)}))()},createRequire:function(){this.$router.push({path:"/develop/originRequire",query:{type:0}})},editRequire:function(e,t){this.$router.push({path:"/develop/originRequire",query:{type:1,id:t.id}})},commitRequire:function(e,t){var r=this;return o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$confirm("确定提交该需求吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(function(){r.$message({type:"info",message:"已取消提交"})});case 2:if("confirm"!=e.sent){e.next=16;break}return store.commit("setLoading",1),e.prev=5,e.next=8,ar.changeStaffStatus(t.id,t.version).then(function(e){"0"==e.code&&r.$message({type:"success",message:"提交成功"})}).catch(function(e){r.$message({type:"error",message:e.message})});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),r.$message({type:"error",message:e.t0.message});case 13:return e.next=15,_this.getTableList();case 15:store.commit("setLoading",!1);case 16:case"end":return e.stop()}},e,r,[[5,10]])}))()}},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTableList();case 2:case"end":return t.stop()}},t,e)}))()}},ca={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"require"},[r("el-form",{staticClass:"require-form",attrs:{inline:!0,model:e.requireSearch}},[r("div",{staticClass:"search-up"},[r("div",[r("el-form-item",[r("el-input",{attrs:{placeholder:"请输入需求名",maxlength:20},model:{value:e.requireSearch.name,callback:function(t){e.$set(e.requireSearch,"name",t)},expression:"requireSearch.name"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.searchRequire}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.resetRequire}},[e._v("重置")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.createRequire}},[e._v("创建原始需求")])],1)],1)]),e._v(" "),r("el-table",{staticClass:"require-table",attrs:{data:e.requireTable}},[r("el-table-column",{attrs:{label:"需求编号",prop:"code",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",prop:"state",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"需求创建人",prop:"initiatorName",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"手机号",prop:"phone",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){e.editRequire(t.$index,t.row)}}},[e._v("编辑需求")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){e.commitRequire(t.$index,t.row)}}},[e._v("提交需求")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pagination.total},on:{"current-change":e.handleCurrentPage,"prev-click":e.handleCurrentPage,"next-click":e.handleCurrentPage,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)},staticRenderFns:[]};var la=a("VU/8")(oa,ca,!1,function(e){a("kQ47")},"data-v-6be78efe",null).exports,ua=[{path:"/",redirect:"/homePage"}].concat([{path:"/homePage",name:"homePage",component:_e},{path:"/home/dashboard",name:"dashboard",component:Me}],[{path:"/auth/accountList",name:"accountList",component:xe},{path:"/auth/accountEdit",name:"accountEdit",component:Be,beforeEnter:function(e,t,r){"/auth/accountList"!=t.path&&"/auth/accountEdit"!=t.path?r(!1):r()}},{path:"/auth/roleList",name:"roleList",component:We},{path:"/auth/roleEdit",name:"roleEdit",component:Ke},{path:"/auth/roleConfig",name:"roleConfig",component:tt},{path:"/auth/authList",name:"authList",component:st},{path:"/auth/authConfig",name:"authConfig",component:lt}],[{path:"/worker/workerList",name:"workerList",component:Ct},{path:"/worker/workerItem",name:"workerItem",component:At},{path:"/worker/workFormConfig",name:"workFormConfig",component:Ot}],[],[{path:"/sale/orderList",name:"orderList",component:yr},{path:"/sale/orderConfig",name:"orderConfig",component:Gr},{path:"/sale/orderEdit",name:"orderEdit",component:Jr},{path:"/sale/orderAssignList",name:"orderAssignList",component:ra}],[{path:"/shop/shopList",name:"shopList",component:ia},{path:"/shop/shopItem",name:"shopItem",component:sa}],[{path:"/student/studentList",name:"studentList",component:la}]),ma={data:function(){return{isLoaded:!1,form:{username:"",password:""},rules:{username:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t,r=this,a=this;this.$refs[e].validate((t=o()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return r.isLoaded=!0,e.prev=2,e.next=5,me.getToken(r.form.username,r.form.password).then(function(e){r.$message({type:"success",message:e.message}),a.$router.push("/")}).catch(function(e){r.$message({type:"error",message:e.message})}).finally(function(){r.isLoaded=!1});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r.$message({type:"error",message:e.t0.message});case 10:e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,r,[[2,7]])})),function(e){return t.apply(this,arguments)}))},resetForm:function(e){this.$refs[e].resetFields()},changeType:function(){console.log(1),this.$refs.password.type="password"}}},da={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoaded,expression:"isLoaded"}],staticClass:"login"},[r("div",{staticClass:"login-box"},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{autocomplete:"off",maxlength:20,size:"medium",type:"text",placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{ref:"password",attrs:{autocomplete:"new-password",maxlength:100,size:"medium",type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.submitForm("form")}}},[e._v("登录")]),e._v(" "),r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)])},staticRenderFns:[]};var pa=a("VU/8")(ma,da,!1,function(e){a("9bQu")},"data-v-d4e290d4",null).exports,ga={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    404\n")])},staticRenderFns:[]},fa=a("VU/8")({data:function(){return{}}},ga,!1,null,null,null).exports,ha={data:function(){return{closeAble:!0}},methods:{},computed:{menuList:function(){return store.state.loginModule.user.tree}},components:{HogLayout:ge},mounted:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()}},va={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main"},[t("Hog-layout",{attrs:{closeAble:this.closeAble,menuNav:this.menuList,menuState:2}})],1)},staticRenderFns:[]};var ya=a("VU/8")(ha,va,!1,function(e){a("p5Ai")},"data-v-66ad778a",null).exports;c.default.use(ve.a),window.router=new ve.a({routes:[{path:"*",components:fa},{path:"/",component:ya,children:[].concat(he()(ua))},{path:"/login",component:pa,meta:{requiresAuth:!1}}]}),router.beforeEach(function(e,t,r){!1!==e.meta.requiresAuth?oe.state.loginModule.isLogin?"/login"!=t.path?oe.state.loginModule.user.routerNavigator.hasOwnProperty(e.path)?r():(Object(m.Message)({type:"warning",message:"非法访问"}),router.push(t.path)):r():r({path:"/login",query:{redirect:e.fullPath}}):r()});var _a,ba=router,Ma=function(e){var t="./admin/permission/getManagerList?pageNumber="+e.pageNumber;return e.searchSelect.length?(e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),t+="&page=1"):t+="&page="+e.currentPage,u.a.get(t)},ka=function(e){return u.a.get("./admin/permission/getManagerRole?id="+e)},wa=function(e,t){return u.a.post("./admin/permission/editManagerRole",{id:e,roleIds:t})},xa=function(e){return u.a.get("./admin/permission/getManager?id="+e)},Na=function(e){return u.a.post("./admin/permission/editManager",h()({},e))},za=function(e){return u.a.post("./admin/permission/deleteManager",{id:e})},La=function(e){var t="./admin/permission/getRoleList?pageNumber="+e.pageNumber;return e.searchSelect.length?(e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),t+="&page=1"):t+="&page="+e.currentPage,u.a.get(t)},Ca=function(e){return u.a.get("./admin/permission/getRole?id="+e)},Ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""==t?u.a.post("./admin/permission/editRole",{name:e}):u.a.post("./admin/permission/editRole",{id:t,name:e})},Da=function(e){return u.a.post("./admin/permission/deleteRole",{id:e})},Sa=function(e){return u.a.get("./admin/permission/getRolePermission?id="+e)},ja=function(e,t){return u.a.post("./admin/permission/editRolePermission",{id:e,permissionIds:t})},Aa=function(e){var t="./admin/permission/getPermissionList?pageNumber="+e.pageNumber;return e.searchSelect.length?(e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),t+="&page=1"):t+="&page="+e.currentPage,u.a.get(t)},Ia=function(e){return u.a.get("./admin/permission/getPermission?id="+e)},Fa=function(e){return u.a.post("./admin/permission/editPermission",h()({},e))},Oa=function(e){return u.a.post("./admin/permission/deletePermission",{id:e})},$a=function(){return u.a.get("./admin/common/getPermissionTree")},Ea={getManagerList:function(e){return Ma(e)},getManagerRole:function(e){return ka(e)},editManagerRole:function(e,t){return wa(e,t)},getManager:function(e){return xa(e)},editManager:function(e){return Na(e)},deleteManager:function(e){return za(e)},getRoleList:function(e){return La(e)},getRole:function(e){return Ca(e)},editRole:function(e,t){return Ta(e,t)},deleteRole:function(e){return Da(e)},getRolePermission:function(e){return Sa(e)},editRolePermission:function(e,t){return ja(e,t)},getPermissionList:function(e){return Aa(e)},getPermission:function(e){return Ia(e)},editPermission:function(e){return Fa(e)},deletePermission:function(e){return Oa(e)},getPermissionTree:function(){return $a()}},Pa={getOrderList:function(e){return Z(e)},getManagerSelection:function(){return G()},createOrder:function(e){return W(e)},getOrder:function(e){var t=this;return o()(i.a.mark(function r(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,store.dispatch("setData",e);case 2:case"end":return t.stop()}},r,t)}))()},editOrder:function(e){return J(e)},createOrderStaff:function(e){return K(e)},deleteOrderStaff:function(e,t){return X(e,t)},sign:function(e){return ee(e)},logCommit:function(e,t){return"normal"==t?re(e):"refuse"==t?te(e):void 0},cancelOrder:function(e){return ae(e)},completeOrder:function(e){return ne(e)},assignOrder:function(e){return ie(e)}},Ya=function(e){var t="./admin/shop/getShopList?pageNumber="+e.pageNumber+"&page="+e.currentPage;return e.searchSelect.length&&e.searchSelect.forEach(function(e,r){t+="&"+e.key+"="+e[e.key]}),u.a.get(t)},Ua=function(e){return u.a.get("./admin/shop/getShop?id="+e)},qa={getShopList:function(e){return Ya(e)},getShop:function(e){return Ua(e)}},Va={formatDate:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return t},getByteLen:function(e){for(var t=0,r=0;r<e.length;r++){null!=e.charAt(r).match(/[^\x00-\xff]/gi)?t+=2:t+=1}return t}},Qa=this;c.default.use(d.a),c.default.prototype.$axios=u.a,c.default.config.productionTip=!1,u.a.interceptors.request.use(function(e){return e.headers={accessToken:null!=oe.state.loginModule.token?oe.state.loginModule.token.access_token:""},e},function(e){throw e}),u.a.interceptors.response.use((_a=o()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!=t.data.code){e.next=4;break}throw t.data;case 4:if("10001"!=t.data.code){e.next=10;break}return e.next=7,me.refreshToken(oe.state.loginModule.token.refresh_token);case 7:return e.abrupt("return",u()(t.config));case 10:if("10002"!=t.data.code){e.next=17;break}return e.next=13,me.logout();case 13:throw ba.push("/login"),t.data;case 17:if("10003"!=t.data.code){e.next=24;break}return e.next=20,me.logout();case 20:throw ba.push("/login"),t.data;case 24:return e.abrupt("return",t.data);case 25:case"end":return e.stop()}},e,Qa)})),function(e){return _a.apply(this,arguments)}),function(e){throw e}),new c.default({el:"#app",router:ba,components:{App:g},template:"<App/>",store:oe})},OY3S:function(e,t){},"Qvn+":function(e,t){},RL80:function(e,t){},S5uw:function(e,t){},TPhW:function(e,t){},V777:function(e,t){},WIOq:function(e,t){},"Y+LG":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTQ3MDE1MDA4OTc0IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE3ODciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyLjAwMzM3NjkyIDIyMy42MjUwNzE5NGMtMzkuMDc4MTE4MjggMC03Ni40MDgyNDg2OCA3LjU0ODEyODUxLTExMi4wMjM0OTc4NiAyMi43OTY2NzI1LTM1LjYxNTI0ODQ2IDE1LjI0ODU0Mzk3LTY2LjI4NDQ4NzMxIDM1Ljg1MzYxMDQ4LTkyLjAzNDE5OTY2IDYxLjUzNzExMDk4LTI1Ljc1NjMzMzY4IDI1LjgyMjU0NDc5LTQ2LjI4MTk0NjQzIDU2LjQ1MjA1NjM4LTYxLjUxMDYyNjQxIDkyLjAyNzU3ODMzLTE1LjI2MTc4NjYyIDM1LjcwNzk0NDg4LTIyLjg4Mjc0NzU3IDcyLjkzMjEzNjk0LTIyLjg4Mjc0NzU3IDExMi4wNzY0NjcwNSAwIDM5LjAxMTkwNjQ1IDcuNjIwOTYxNjggNzYuMzY4NTIyMTcgMjIuODgyNzQ3NTcgMTExLjk0NDA0NDExIDE1LjIyODY4MDcxIDM1LjcxNDU2NjIxIDM1Ljc1NDI5MzQ2IDY2LjM0NDA3NzggNjEuNTEwNjI2NDEgOTIuMTY2NjIyNiAyNS43NDk3MTIzNSAyNS42OTAxMjE4NSA1Ni40MTg5NTA0NyA0Ni4xNDk1MjI3OCA5Mi4wMzQxOTk2NiA2MS41MzA0OTAzOWEyODQuMDM0NzU0MzcgMjg0LjAzNDc1NDM3IDAgMCAwIDExMi4wMjM0OTc4NiAyMi44MDMyOTM4MmMzOS4wNjQ4NzYzNSAwIDc2LjM5NTAwNjc2LTcuNjkzNzk0MTIgMTEyLjAxMDI1NTIyLTIyLjgwMzI5MzgyIDM1LjYxNTI0ODQ2LTE1LjM4MDk2NzYzIDY2LjI4NDQ4NzMxLTM1Ljg0Njk4OTg3IDkyLjAzNDE5OTY1LTYxLjUzMDQ5MDQgMjUuNzU2MzMzNjgtMjUuODIyNTQ0NzkgNDYuMjgxOTQ2NDMtNTYuNDUyMDU2MzggNjEuNTEwNjI2NDItOTIuMTY2NjIyNTggMTUuMjg4MjcxMjItMzUuNTc1NTIxOTUgMjIuODgyNzQ3NTctNzIuOTMyMTM2OTQgMjIuODgyNzQ3NTgtMTExLjk0NDA0NDEyIDAtMzkuMTQ0MzMwMS03LjU5NDQ3NzEtNzYuMzY4NTIyMTctMjIuODgyNzQ3NTgtMTEyLjA3NjQ2NzA0LTE1LjIyODY4MDcxLTM1LjU3NTUyMTk1LTM1Ljc1NDI5MzQ2LTY2LjIxMTY1NDE0LTYxLjUxMDYyNjQyLTkyLjAzNDE5ODk0LTI1Ljc0OTcxMjM1LTI1LjY3Njg3OTE4LTU2LjQxODk1MDQ3LTQ2LjI4MTk0NjQzLTkyLjAzNDE5OTY1LTYxLjUzMDQ5MDM4QzU4OC4zOTgzODM2OCAyMzEuMTc5ODIxNzkgNTUxLjA2MTYzMTk0IDIyMy42MjUwNzE5NCA1MTEuOTk2NzU1NTkgMjIzLjYyNTA3MTk0bTAtODIuNDEzNjQ2MTZjNTAuMjAxNjc2MjkgMCA5OC4yNTgwOTUxNyA5Ljc1Mjk3NjQzIDE0NC4wMjM1OTAzMyAyOS4zOTc5NzQyNyA0NS43OTg2MDEwNyAxOS42MzgzNzY1MiA4NS4yMjc2NDEwNCA0Ni4wMTA0Nzg1IDExOC4yNzM4Nzc5OCA3OS4xMDk2ODQ2MiAzMy4wNzI3MjE1MiAzMi45NjY3ODI0MyA1OS40MTgzMzgxOCA3Mi4zODkyMDE4MSA3OS4wMzAyMzAxMSAxMTguMjYwNjM1MyAxOS42MTg1MTMyNiA0NS43MzkwMTA1OCAyOS40Mzc3MDE1MyA5My44MTUyOTI3MSAyOS40NTA5NDQxOCAxNDMuOTQ0MTM2NTYgMC4wMzk3MjcyNCA1MC4yNzQ1MDg3MS05LjgxOTE4ODI2IDk4LjM1MDc5MDg1LTI5LjQ1MDk0NDE4IDE0NC4wODk4MDIxNi0xOS42MjUxMzQ1OCA0NS44NzE0MzQyMy00NS45NzA3NTEyNiA4NS4yOTM4NTI4OC03OS4wMzAyMzAxMSAxMTguMjU0MDE0LTMzLjAzMjk5NDI2IDMzLjEwNTgyNzQzLTcyLjQzNTU0OTY2IDU5LjQ3NzkyODY4LTExOC4yNzM4Nzc5NyA3OS4xMjI5MjcyNUM2MTAuMTk1MjYwMjcgODcyLjg4OTkzMjE5IDU2Mi4xOTE4MTA1NiA4ODIuNzgxOTUyODkgNTEyLjAwMzM3NjkyIDg4Mi43ODE5NTI4OWMtNTAuMTg4NDMzNjMgMC05OC4xOTE4ODMzMy05Ljg5MjAyMTQzLTE0NC4wMjM1OTAzMS0yOS4zOTc5NzQyNy00NS44NTE1NzAyNS0xOS42MzgzNzY1Mi04NS4yNjczNjgyOC00Ni4wMTA0Nzg1LTExOC4yODcxMjA2My03OS4xMDk2ODQ2QzIxNi42MjY1NjU3OSA3NDEuMzA3NTExNTYgMTkwLjI4NzU3MDQ1IDcwMS44ODUwOTIyIDE3MC42NjI0MzU4NyA2NTYuMDA3MDM3MzYgMTUxLjAzMDY4MDY2IDYxMC4yNzQ2NDgxMyAxNDEuMTcxNzY1MTYgNTYyLjE5ODM2NTk5IDE0MS4yMTE0OTE2OCA1MTEuOTMwNDc3ODdjMC4wMTMyNDI2Ni01MC4xMzU0NjQ0NiA5LjgzMjQzMDkyLTk4LjIxMTc0NjYxIDI5LjQ1MDk0NDE5LTE0My45NDQxMzY1NiAxOS42MTE4OTE5NC00NS44ODQ2NzYxNyA0NS45NTA4ODgtODUuMzAwNDc0MiA3OS4wMzAyMzAxMS0xMTguMjY3MjU2NjQgMzMuMDM5NjE1Ni0zMy4xMDU4Mjc0MyA3Mi40NzUyNzY4OS01OS40NzEzMDgwOSAxMTguMjg3MTIwNjMtNzkuMTE2MzA1OTRDNDEzLjczODY2MDQzIDE1MC45NjQ0MDIyMSA0NjEuNzg4NDU3OTkgMTQxLjIxMTQyNTc4IDUxMS45OTY3NTU1OSAxNDEuMjExNDI1NzgiIHAtaWQ9IjE3ODgiIGZpbGw9IiNmZmZmZmYiPjwvcGF0aD48L3N2Zz4="},YPYv:function(e,t){},Yxld:function(e,t){},ZCkn:function(e,t){},"ZD+s":function(e,t){},ZGRt:function(e,t){},ZdBq:function(e,t){},ZtPZ:function(e,t){},"bM/4":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTQ3MTAyMDA0MjkzIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUxMjciIGRhdGEtc3BtLWFuY2hvci1pZD0iYTMxM3guNzc4MTA2OS4wLmkyIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTkzMy42MTQ5MzMzMyA5OTYuOTY2NEg4OC4yMDA1MzMzM2MtMTcuNDc2MjY2NjcgMC0zNC45NTI1MzMzMy04LjczODEzMzMzLTQ1Ljg3NTItMjEuODQ1MzMzMzMtMTAuOTIyNjY2NjctMTUuMjkxNzMzMzMtMTUuMjkxNzMzMzMtMzIuNzY4LTEwLjkyMjY2NjY2LTUwLjI0NDI2NjY3IDQzLjY5MDY2NjY3LTIyMi44MjI0IDIyNS4wMDY5MzMzMy0zODguODQ2OTMzMzMgNDQzLjQ2MDI2NjY2LTQwNi4zMjMyIDczLjE4MTg2NjY3IDAgMTUyLjM3MTIgOS4yODQyNjY2NyAyMzEuNTYwNTMzMzQgNDEuNTA2MTMzMzMgMjIuOTM3NiA5LjI4NDI2NjY3IDMwLjU4MzQ2NjY3IDE1LjI5MTczMzMzIDQzLjY5MDY2NjY2IDIxLjg0NTMzMzM0IDEyNi43MDI5MzMzMyA3Mi4wODk2IDIxNC4wODQyNjY2NyAxOTYuNjA4IDI0Mi40ODMyIDM0Mi45NzE3MzMzMyA0LjM2OTA2NjY3IDE3LjQ3NjI2NjY3IDAgMzQuOTUyNTMzMzMtMTMuMTA3MiA1MC4yNDQyNjY2Ny0xMC45MjI2NjY2NyAxMy4xMDcyLTI4LjM5ODkzMzMzIDIxLjg0NTMzMzMzLTQ1Ljg3NTIgMjEuODQ1MzMzMzN6IiBmaWxsPSIjOGE4YThhIiBwLWlkPSI1MTI4Ij48L3BhdGg+PHBhdGggZD0iTTg5LjI5MjggOTYxLjQ2NzczMzMzYy03LjA5OTczMzMzIDAtMTMuNjUzMzMzMzMtMi43MzA2NjY2Ny0xNy40NzYyNjY2Ny03LjY0NTg2NjY2LTAuNTQ2MTMzMzMtMC41NDYxMzMzMy0wLjU0NjEzMzMzLTEuMDkyMjY2NjctMS4wOTIyNjY2Ni0xLjYzODQtNS40NjEzMzMzMy01LjQ2MTMzMzMzLTYuMDA3NDY2NjctMTQuNzQ1Ni00LjkxNTItMjAuMjA2OTMzMzQgNDAuNDEzODY2NjctMjA3LjUzMDY2NjY3IDIxMC4yNjEzMzMzMy0zNjMuMTc4NjY2NjcgNDEzLjQyMjkzMzMzLTM3Ny45MjQyNjY2NmgxNi4zODRjOTcuNzU3ODY2NjcgMCAxOTEuNjkyOCAzMC41ODM0NjY2NyAyMzcuNTY4IDU5LjUyODUzMzMzQzg1My4zMzMzMzMzMyA2ODUuNjcwNCA5MzMuNjE0OTMzMzMgNzk4LjcyIDk1OC43MzcwNjY2NyA5MzEuOTc2NTMzMzNjMS4wOTIyNjY2NyA3LjY0NTg2NjY3LTAuNTQ2MTMzMzMgMTQuNzQ1Ni02LjAwNzQ2NjY3IDIxLjg0NTMzMzM0LTMuODIyOTMzMzMgNC45MTUyLTEwLjM3NjUzMzMzIDcuNjQ1ODY2NjctMTcuNDc2MjY2NjcgNy42NDU4NjY2Nkg4OS4yOTI4eiIgZmlsbD0iIzhhOGE4YSIgcC1pZD0iNTEyOSI+PC9wYXRoPjxwYXRoIGQ9Ik00OTUuNjE2IDU2Ny4xNTk0NjY2N2M5NS4wMjcyIDAgMTg2LjIzMTQ2NjY3IDI5LjQ5MTIgMjMwLjQ2ODI2NjY3IDU3LjM0NGgwLjU0NjEzMzMzYzExNi44NzI1MzMzMyA2OS4zNTg5MzMzMyAxOTQuNDIzNDY2NjcgMTc5LjEzMTczMzMzIDIxOC40NTMzMzMzMyAzMDkuMTExNDY2NjYgMC41NDYxMzMzMyAyLjczMDY2NjY3IDAuNTQ2MTMzMzMgNi41NTM2LTMuODIyOTMzMzMgMTEuNDY4OC0wLjU0NjEzMzMzIDEuMDkyMjY2NjctMy4yNzY4IDIuMTg0NTMzMzMtNi41NTM2IDIuMTg0NTMzMzRIODkuMjkyOGMtMy4yNzY4IDAtNi4wMDc0NjY2Ny0xLjA5MjI2NjY3LTYuNTUzNi0yLjE4NDUzMzM0LTAuNTQ2MTMzMzMtMS4wOTIyNjY2Ny0xLjYzODQtMi4xODQ1MzMzMy0yLjczMDY2NjY3LTIuNzMwNjY2NjYtMS4wOTIyNjY2Ny0xLjA5MjI2NjY3LTIuMTg0NTMzMzMtNC4zNjkwNjY2Ny0xLjA5MjI2NjY2LTguMTkyIDM5LjMyMTYtMjAxLjUyMzIgMjAzLjcwNzczMzMzLTM1Mi4yNTYgNDAwLjg2MTg2NjY2LTM2Ny4wMDE2IDQuOTE1MiAwLjU0NjEzMzMzIDEwLjM3NjUzMzMzIDAgMTUuODM3ODY2NjcgMG0wLTI3LjMwNjY2NjY3Yy01LjQ2MTMzMzMzIDAtMTEuNDY4OCAwLTE2LjkzMDEzMzMzIDAuNTQ2MTMzMzNDMjY4Ljk3MDY2NjY3IDU1NS42OTA2NjY2NyA5NC4yMDggNzE1LjE2MTYgNTIuNzAxODY2NjcgOTI5LjI0NTg2NjY3Yy0yLjE4NDUzMzMzIDEwLjkyMjY2NjY3IDAgMjQuMDI5ODY2NjcgOC43MzgxMzMzMyAzMi43NjggNi41NTM2IDguNzM4MTMzMzMgMTcuNDc2MjY2NjcgMTMuMTA3MiAyOC4zOTg5MzMzMyAxMy4xMDcySDkzNS4yNTMzMzMzM2MxMC45MjI2NjY2NyAwIDIxLjg0NTMzMzMzLTQuMzY5MDY2NjcgMjguMzk4OTMzMzQtMTMuMTA3MiA2LjU1MzYtOC43MzgxMzMzMyAxMC45MjI2NjY2Ny0xOS42NjA4IDguNzM4MTMzMzMtMzIuNzY4LTI2LjIxNDQtMTM5LjgxMDEzMzMzLTEwOS4yMjY2NjY2Ny0yNTQuNDk4MTMzMzMtMjMxLjU2MDUzMzMzLTMyNy42OC00Ni40MjEzMzMzMy0yOC45NDUwNjY2Ny0xNDEuNDQ4NTMzMzMtNjEuNzEzMDY2NjctMjQ1LjIxMzg2NjY3LTYxLjcxMzA2NjY3ek01MTIgNTM4LjIxNDRjLTEzNy42MjU2IDAtMjUxLjIyMTMzMzMzLTExMy41OTU3MzMzMy0yNTEuMjIxMzMzMzMtMjUxLjIyMTMzMzMzUzM3NC4zNzQ0IDM1Ljc3MTczMzMzIDUxMiAzNS43NzE3MzMzM3MyNTEuMjIxMzMzMzMgMTEzLjU5NTczMzMzIDI1MS4yMjEzMzMzMyAyNTEuMjIxMzMzMzRTNjQ5LjYyNTYgNTM4LjIxNDQgNTEyIDUzOC4yMTQ0eiIgZmlsbD0iIzhhOGE4YSIgcC1pZD0iNTEzMCI+PC9wYXRoPjxwYXRoIGQ9Ik01MTIgNTAyLjcxNTczMzMzYy0xMTkuMDU3MDY2NjcgMC0yMTUuNzIyNjY2NjctOTYuNjY1Ni0yMTUuNzIyNjY2NjctMjE1LjcyMjY2NjY2UzM5Mi45NDI5MzMzMyA3MS4yNzA0IDUxMiA3MS4yNzA0czIxNS43MjI2NjY2NyA5Ni42NjU2IDIxNS43MjI2NjY2NyAyMTUuNzIyNjY2NjctOTYuNjY1NiAyMTUuNzIyNjY2NjctMjE1LjcyMjY2NjY3IDIxNS43MjI2NjY2NnoiIGZpbGw9IiM4YThhOGEiIHAtaWQ9IjUxMzEiPjwvcGF0aD48cGF0aCBkPSJNNTEyIDg0LjkyMzczMzMzYzExMS40MTEyIDAgMjAyLjA2OTMzMzMzIDkwLjY1ODEzMzMzIDIwMi4wNjkzMzMzMyAyMDIuMDY5MzMzMzRTNjIzLjQxMTIgNDg5LjA2MjQgNTEyIDQ4OS4wNjI0cy0yMDIuMDY5MzMzMzMtOTAuNjU4MTMzMzMtMjAyLjA2OTMzMzMzLTIwMi4wNjkzMzMzMyA5MC42NTgxMzMzMy0yMDIuMDY5MzMzMzMgMjAyLjA2OTMzMzMzLTIwMi4wNjkzMzMzNG0wLTI3LjMwNjY2NjY2Yy0xMjYuNzAyOTMzMzMgMC0yMjkuMzc2IDEwMi42NzMwNjY2Ny0yMjkuMzc2IDIyOS4zNzZzMTAyLjY3MzA2NjY3IDIyOS4zNzYgMjI5LjM3NiAyMjkuMzc2IDIyOS4zNzYtMTAyLjY3MzA2NjY3IDIyOS4zNzYtMjI5LjM3NlM2MzguNzAyOTMzMzMgNTcuNjE3MDY2NjcgNTEyIDU3LjYxNzA2NjY3eiIgZmlsbD0iIzhhOGE4YSIgcC1pZD0iNTEzMiI+PC9wYXRoPjwvc3ZnPg=="},"cD/+":function(e,t){},dQq2:function(e,t){},e4nG:function(e,t){},"fa/y":function(e,t){},fgDz:function(e,t){},grTP:function(e,t){},hSok:function(e,t){},jjuU:function(e,t){},jvyR:function(e,t){},kQ47:function(e,t){},lsvs:function(e,t){},mrCW:function(e,t){},nJrf:function(e,t){},oOQt:function(e,t){},p5Ai:function(e,t){},r7rc:function(e,t){},rTPo:function(e,t){},sQpX:function(e,t){},sqbB:function(e,t){},sru3:function(e,t){},szwq:function(e,t,r){e.exports=r.p+"static/img/head-icon.9f56dc8.jpg"},tvR6:function(e,t){},w5if:function(e,t){},y13q:function(e,t){},ysvH:function(e,t){},zwvc:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c0c20d5eae74b6fab3ef.js.map